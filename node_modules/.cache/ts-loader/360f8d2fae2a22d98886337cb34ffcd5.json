{"remainingRequest":"/Users/const/Documents/Vue/vue-tet/node_modules/thread-loader/dist/cjs.js!/Users/const/Documents/Vue/vue-tet/node_modules/babel-loader/lib/index.js!/Users/const/Documents/Vue/vue-tet/node_modules/ts-loader/index.js??ref--13-3!/Users/const/Documents/Vue/vue-tet/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/const/Documents/Vue/vue-tet/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/const/Documents/Vue/vue-tet/src/components/SignIn.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/const/Documents/Vue/vue-tet/src/components/SignIn.vue","mtime":1552975956550},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/cache-loader/dist/cjs.js","mtime":1552975946601},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/thread-loader/dist/cjs.js","mtime":1552975955420},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/babel-loader/lib/index.js","mtime":1552975946378},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/ts-loader/index.js","mtime":1552975955462},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/cache-loader/dist/cjs.js","mtime":1552975946601},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/vue-loader/lib/index.js","mtime":1552975955943}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\nimport axios from 'axios';\nimport Qs from 'qs';\nimport { onTips } from '@/assets/js/common.js';\nimport { setCookie, getCookie } from '@/assets/js/cookie.js';\nexport default {\n  name: 'SignIn',\n  data: function data() {\n    return {\n      username: '',\n      password: '',\n      status: [false, false],\n      disabled: true,\n      loading: false\n    };\n  },\n  watch: {\n    username: {\n      handler: function handler() {\n        this.username.length > 2 ? this.status[0] = true : this.status[0] = false;\n        this.onStatus();\n      },\n      deep: true\n    },\n    password: {\n      handler: function handler() {\n        this.password.length > 5 ? this.status[1] = true : this.status[1] = false;\n        this.onStatus();\n      },\n      deep: true\n    }\n  },\n  mounted: function mounted() {\n    if (getCookie('username')) {\n      this.$router.push('main');\n    }\n  },\n  methods: {\n    onStatus: function onStatus() {\n      if (this.status[0] && this.status[1]) {\n        this.disabled = false;\n      } else {\n        this.disabled = true;\n      }\n    },\n    onSubmit: function onSubmit() {\n      var that = this;\n      that.loading = true;\n      var data = {\n        username: that.username,\n        password: that.password\n      };\n      axios.post('/api/signin', Qs.stringify(data), {}).then(function (res) {\n        console.log(res);\n\n        if (res.data.status) {\n          onTips(that, 'success', res.data.info);\n          setCookie('username', that.username, 1000 * 60);\n          setTimeout(function () {\n            that.$router.push('main');\n          }.bind(this), 700);\n        } else {\n          onTips(that, 'error', res.data.info);\n          that.loading = false;\n        }\n      }).catch(function (err) {\n        onTips(that, 'error', '网络错误～');\n        that.loading = false;\n      });\n    }\n  }\n};",null]}