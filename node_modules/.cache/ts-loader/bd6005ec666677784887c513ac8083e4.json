{"remainingRequest":"/Users/const/Documents/Vue/vue-tet/node_modules/babel-loader/lib/index.js!/Users/const/Documents/Vue/vue-tet/node_modules/ts-loader/index.js??ref--14-2!/Users/const/Documents/Vue/vue-tet/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/const/Documents/Vue/vue-tet/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/const/Documents/Vue/vue-tet/src/components/SignIn.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/const/Documents/Vue/vue-tet/src/components/SignIn.vue","mtime":1552975956550},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/cache-loader/dist/cjs.js","mtime":1552975946601},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/babel-loader/lib/index.js","mtime":1552975946378},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/ts-loader/index.js","mtime":1552975955462},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/cache-loader/dist/cjs.js","mtime":1552975946601},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/vue-loader/lib/index.js","mtime":1552975955943}],"contextDependencies":[],"result":["import axios from 'axios';\nimport Qs from 'qs';\nimport { onTips } from '@/assets/js/common.js';\nimport { setCookie, getCookie } from '@/assets/js/cookie.js';\nexport default {\n  name: 'SignIn',\n  data: function data() {\n    return {\n      username: '',\n      password: '',\n      status: [false, false],\n      disabled: true,\n      loading: false\n    };\n  },\n  watch: {\n    username: {\n      handler: function handler() {\n        this.username.length > 2 ? this.status[0] = true : this.status[0] = false;\n        this.onStatus();\n      },\n      deep: true\n    },\n    password: {\n      handler: function handler() {\n        this.password.length > 5 ? this.status[1] = true : this.status[1] = false;\n        this.onStatus();\n      },\n      deep: true\n    }\n  },\n  mounted: function mounted() {\n    if (getCookie('username')) {\n      this.$router.push('main');\n    }\n  },\n  methods: {\n    onStatus: function onStatus() {\n      if (this.status[0] && this.status[1]) {\n        this.disabled = false;\n      } else {\n        this.disabled = true;\n      }\n    },\n    onSubmit: function onSubmit() {\n      var that = this;\n      that.loading = true;\n      var data = {\n        username: that.username,\n        password: that.password\n      };\n      axios.post('/api/signin', Qs.stringify(data), {}).then(function (res) {\n        console.log(res);\n\n        if (res.data.status) {\n          onTips(that, 'success', res.data.info);\n          setCookie('username', that.username, 1000 * 60);\n          setTimeout(function () {\n            that.$router.push('main');\n          }.bind(this), 700);\n        } else {\n          onTips(that, 'error', res.data.info);\n          that.loading = false;\n        }\n      }).catch(function (err) {\n        onTips(that, 'error', '网络错误～');\n        that.loading = false;\n      });\n    }\n  }\n};",{"version":3,"sources":["/Users/const/Documents/Vue/vue-tet/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/const/Documents/Vue/vue-tet/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/const/Documents/Vue/vue-tet/src/components/SignIn.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport axios from 'axios';\nimport Qs from 'qs';\nimport {onTips} from '@/assets/js/common.js';\nimport {setCookie, getCookie} from '@/assets/js/cookie.js'\nexport default {\n    name: 'SignIn',\n    data() {\n        return {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tstatus: [false, false],\n\t\t\tdisabled: true,\n\t\t\tloading: false\n        };\n\t},\n\twatch: {\n\t\tusername: {\n\t\t\thandler: function() {\n\t\t\t\tthis.username.length > 2 ? (this.status[0] = true) : (this.status[0] = false);\n\t\t\t\tthis.onStatus();\n\t\t\t},\n\t\t\tdeep: true\n\t\t},\n\t\tpassword: {\n\t\t\thandler: function() {\n\t\t\t\tthis.password.length > 5 ? (this.status[1] = true) : (this.status[1] = false);\n\t\t\t\tthis.onStatus();\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t},\n    mounted() {\n        if (getCookie('username')) {\n            this.$router.push('main');\n        }\n    },\n    methods: {\n\t\tonStatus: function() {\n\t\t\tif (this.status[0] && this.status[1]) {\n\t\t\t\tthis.disabled = false;\n\t\t\t} else {\n\t\t\t\tthis.disabled = true;\n\t\t\t}\n\t\t},\n\t\tonSubmit: function() {\n\t\t\tlet that = this;\n            that.loading = true;\n\n            let data = {\n                username: that.username,\n                password: that.password\n            };\n\n\t\t\taxios.post('/api/signin', Qs.stringify(data), {})\n\t\t\t.then(function(res) {\n                console.log(res);\n\t\t\t\tif (res.data.status) {\n                    onTips(that, 'success', res.data.info);\n                    setCookie('username', that.username, 1000*60);\n                    setTimeout(function() {\n                        that.$router.push('main');\n                    }.bind(this), 700);\n\t\t\t\t} else {\n\t\t\t\t\tonTips(that, 'error', res.data.info);\n\t\t\t\t\tthat.loading = false;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function(err) {\n\t\t\t\tonTips(that, 'error', '网络错误～');\n\t\t\t\tthat.loading = false;\n\t\t\t})\n\t\t},\n    }\n}\n"],"sourceRoot":""}]}