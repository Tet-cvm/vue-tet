{"remainingRequest":"/Users/const/Documents/Vue/tet/node_modules/babel-loader/lib/index.js!/Users/const/Documents/Vue/tet/node_modules/ts-loader/index.js??ref--14-2!/Users/const/Documents/Vue/tet/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/const/Documents/Vue/tet/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/const/Documents/Vue/tet/src/components/Online.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/const/Documents/Vue/tet/src/components/Online.vue","mtime":1557140735268},{"path":"/Users/const/Documents/Vue/tet/node_modules/cache-loader/dist/cjs.js","mtime":1552975946601},{"path":"/Users/const/Documents/Vue/tet/node_modules/babel-loader/lib/index.js","mtime":1552975946378},{"path":"/Users/const/Documents/Vue/tet/node_modules/ts-loader/index.js","mtime":1552975955462},{"path":"/Users/const/Documents/Vue/tet/node_modules/cache-loader/dist/cjs.js","mtime":1552975946601},{"path":"/Users/const/Documents/Vue/tet/node_modules/vue-loader/lib/index.js","mtime":1552975955943}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\nimport axios from 'axios';\nimport Qs from 'qs';\nimport { onTips } from '@/assets/js/common.js';\nimport Swiper from 'swiper';\nimport 'swiper/dist/css/swiper.min.css';\nimport Terminal from '@/components/Terminal.vue';\nexport default {\n  name: 'Online',\n  data: function data() {\n    return {\n      complete: false,\n      total: Number,\n      listData: [],\n      site: '',\n      siteData: [],\n      branch: '',\n      branchData: [{\n        value: 1,\n        label: 'aa'\n      }],\n      version: 0,\n      versionData: []\n    };\n  },\n  components: {\n    Terminal: Terminal\n  },\n  created: function created() {\n    var that = this;\n    that.onInstance();\n    that.onRender(1);\n  },\n  mounted: function mounted() {\n    var that = this;\n    var mySwiper = new Swiper('.swiper-container', {\n      direction: 'vertical',\n      slidesPerView: 'auto',\n      initialSlide: 0,\n      resistanceRatio: 0,\n      slideToClickedSlide: true\n    });\n  },\n  methods: {\n    onRender: function onRender(page) {\n      var that = this;\n      var data = {\n        'page': page\n      };\n      axios.post('/api/render', Qs.stringify(data), {}).then(function (res) {\n        console.log(res);\n\n        if (res.data.status) {\n          that.listData = res.data.data.list;\n          that.total = res.data.data.page;\n        } else {\n          onTips(that, 'error', res.data.info);\n        }\n\n        that.complete = true;\n      }).catch(function (err) {\n        onTips(that, 'error', '网络错误～');\n      });\n    },\n    onInstance: function onInstance() {\n      var that = this;\n      axios.post('/api/instance', {}, {}).then(function (res) {\n        if (res.data.status) {\n          var resData = res.data.data.site;\n          var verData = res.data.data.version;\n          var braData = res.data.data.branch;\n          var site = '';\n          var siteData = [];\n\n          for (var i = 0; i < resData.length; i++) {\n            if (resData[i].active) {\n              site = resData[i].id;\n            }\n\n            var data = {\n              value: resData[i].id,\n              label: resData[i].domain,\n              status: resData[i].status,\n              type: resData[i].type == 2 ? 'svn' : 'git'\n            };\n            siteData.unshift(data);\n          }\n\n          that.siteData = siteData;\n          that.site = site; // let version = '';\n\n          var versionData = [];\n\n          for (var _i = 0; _i < verData.length; _i++) {\n            var _data = {\n              value: _i,\n              author: verData[_i].author,\n              label: verData[_i].version\n            };\n            versionData.push(_data);\n          }\n\n          that.versionData = versionData; // let branch = '';\n\n          var branchData = [];\n\n          for (var _i2 = 0; _i2 < braData.length; _i2++) {\n            var _data2 = {\n              value: _i2,\n              label: braData[_i2]\n            };\n            branchData.push(_data2);\n          }\n\n          that.branchData = branchData;\n          that.branch = res.data.data.init;\n        } else {\n          onTips(that, 'error', res.data.info);\n        }\n      }).catch(function (err) {\n        onTips(that, 'error', '网络错误～');\n      });\n    },\n    onRelease: function onRelease() {\n      var that = this;\n      axios.post('/api/submit', {}, {}).then(function (res) {\n        if (res.data.status) {\n          console.log('success');\n        } else {\n          onTips(that, 'error', res.data.info);\n        }\n      }).catch(function (err) {\n        onTips(that, 'error', '网络错误～');\n      });\n    },\n    onRollBack: function onRollBack(index, row) {\n      console.log(index, row);\n      var that = this;\n      axios.post('/api/rollback', {}, {}).then(function (res) {\n        console.log(res, 'rollback');\n\n        if (res.data.status) {\n          console.log('aaa');\n        } else {\n          onTips(that, 'error', res.data.info);\n        }\n      }).catch(function (err) {\n        onTips(that, 'error', '网络错误～');\n      });\n    },\n    onSelect: function onSelect() {\n      console.log(this.site);\n    }\n  }\n};",{"version":3,"sources":["/Users/const/Documents/Vue/tet/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/const/Documents/Vue/tet/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/const/Documents/Vue/tet/src/components/Online.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport axios from 'axios';\nimport Qs from 'qs';\nimport {onTips} from '@/assets/js/common.js';\nimport Swiper from 'swiper';\nimport 'swiper/dist/css/swiper.min.css';\nimport Terminal from '@/components/Terminal.vue'\nexport default {\n    name: 'Online',\n    data() {\n      return {\n        complete: false,\n        total: Number,\n        listData: [],\n        site: '',\n        siteData: [],\n        branch: '',\n        branchData: [\n          { value: 1, label: 'aa' },\n        ],\n        version: 0,\n        versionData: []\n      }\n    },\n    components: {\n      Terminal\n    },\n    created() {\n      let that = this;\n      that.onInstance();\n      that.onRender(1);\n      \n    },\n    mounted() {\n      let that = this;\n      var mySwiper = new Swiper('.swiper-container', {\n          direction : 'vertical',\n          slidesPerView: 'auto',\n          initialSlide: 0,\n          resistanceRatio: 0,\n          slideToClickedSlide: true\n      });\n    },\n    methods: {\n      onRender: function(page) {\n        let that = this;\n        let data = {\n          'page': page\n        }\n        axios.post('/api/render', Qs.stringify(data), {})\n        .then(function(res) {\n          console.log(res);\n          if (res.data.status) {\n            that.listData = res.data.data.list;\n            that.total = res.data.data.page;\n          } else {\n            onTips(that, 'error', res.data.info);\n          }\n          that.complete = true;\n        })\n        .catch(function(err) {\n          onTips(that, 'error', '网络错误～');\n        })\n      },\n      onInstance: function() {\n        let that = this;\n        axios.post('/api/instance', {}, {})\n        .then(function(res) {\n          if (res.data.status) {\n            let resData = res.data.data.site;\n            let verData = res.data.data.version;\n            let braData = res.data.data.branch;\n\n            let site = '';\n            let siteData = [];\n            for (let i=0; i<resData.length; i++) {\n              if (resData[i].active) {\n                site = resData[i].id;\n              }\n              let data = {value: resData[i].id, label: resData[i].domain, status: resData[i].status, type: resData[i].type == 2 ? 'svn' : 'git'};\n              siteData.unshift(data);\n            }\n            that.siteData = siteData;\n            that.site = site;\n\n            // let version = '';\n            let versionData = [];\n\n            for (let i=0; i<verData.length; i++) {\n              let data = {value: i, author: verData[i].author, label: verData[i].version}\n              versionData.push(data) \n            }\n            that.versionData = versionData;\n\n            // let branch = '';\n            let branchData = [];\n\n            for (let i=0; i<braData.length; i++) {\n              let data = {value: i, label: braData[i]}\n              branchData.push(data)\n            }\n            that.branchData = branchData;\n            that.branch = res.data.data.init;\n\n          } else {\n            onTips(that, 'error', res.data.info);\n          }\n        })\n        .catch(function(err) {\n          onTips(that, 'error', '网络错误～');\n        })\n      },\n      onRelease: function() {\n        let that = this;\n        axios.post('/api/submit', {}, {})\n        .then(function(res) {\n          if (res.data.status) {\n            console.log('success')\n          } else {\n            onTips(that, 'error', res.data.info);\n          }\n        })\n        .catch(function(err) {\n          onTips(that, 'error', '网络错误～');\n        })\n      },\n      onRollBack: function(index, row) {\n        console.log(index, row);\n        let that = this;\n        axios.post('/api/rollback', {}, {})\n        .then(function(res) {\n          console.log(res, 'rollback')\n          if (res.data.status) {\n            console.log('aaa')\n          } else {\n            onTips(that, 'error', res.data.info);\n          }\n        })\n        .catch(function(err) {\n          onTips(that, 'error', '网络错误～');\n        })\n      },\n      onSelect: function() {\n        console.log(this.site);\n      }\n    }\n}\n"],"sourceRoot":""}]}