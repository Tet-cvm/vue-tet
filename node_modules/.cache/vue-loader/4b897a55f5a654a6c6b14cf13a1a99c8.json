{"remainingRequest":"/Users/const/Documents/Vue/vue-tet/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/const/Documents/Vue/vue-tet/src/components/SignIn.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/const/Documents/Vue/vue-tet/src/components/SignIn.vue","mtime":1552975956550},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/cache-loader/dist/cjs.js","mtime":1552975946601},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/babel-loader/lib/index.js","mtime":1552975946378},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/ts-loader/index.js","mtime":1552975955462},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/cache-loader/dist/cjs.js","mtime":1552975946601},{"path":"/Users/const/Documents/Vue/vue-tet/node_modules/vue-loader/lib/index.js","mtime":1552975955943}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport axios from 'axios';\nimport Qs from 'qs';\nimport {onTips} from '@/assets/js/common.js';\nimport {setCookie, getCookie} from '@/assets/js/cookie.js'\nexport default {\n    name: 'SignIn',\n    data() {\n        return {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tstatus: [false, false],\n\t\t\tdisabled: true,\n\t\t\tloading: false\n        };\n\t},\n\twatch: {\n\t\tusername: {\n\t\t\thandler: function() {\n\t\t\t\tthis.username.length > 2 ? (this.status[0] = true) : (this.status[0] = false);\n\t\t\t\tthis.onStatus();\n\t\t\t},\n\t\t\tdeep: true\n\t\t},\n\t\tpassword: {\n\t\t\thandler: function() {\n\t\t\t\tthis.password.length > 5 ? (this.status[1] = true) : (this.status[1] = false);\n\t\t\t\tthis.onStatus();\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t},\n    mounted() {\n        if (getCookie('username')) {\n            this.$router.push('main');\n        }\n    },\n    methods: {\n\t\tonStatus: function() {\n\t\t\tif (this.status[0] && this.status[1]) {\n\t\t\t\tthis.disabled = false;\n\t\t\t} else {\n\t\t\t\tthis.disabled = true;\n\t\t\t}\n\t\t},\n\t\tonSubmit: function() {\n\t\t\tlet that = this;\n            that.loading = true;\n\n            let data = {\n                username: that.username,\n                password: that.password\n            };\n\n\t\t\taxios.post('/api/signin', Qs.stringify(data), {})\n\t\t\t.then(function(res) {\n                console.log(res);\n\t\t\t\tif (res.data.status) {\n                    onTips(that, 'success', res.data.info);\n                    setCookie('username', that.username, 1000*60);\n                    setTimeout(function() {\n                        that.$router.push('main');\n                    }.bind(this), 700);\n\t\t\t\t} else {\n\t\t\t\t\tonTips(that, 'error', res.data.info);\n\t\t\t\t\tthat.loading = false;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function(err) {\n\t\t\t\tonTips(that, 'error', '网络错误～');\n\t\t\t\tthat.loading = false;\n\t\t\t})\n\t\t},\n    }\n}\n",{"version":3,"sources":["SignIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignIn.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"signin\">\n    <div class=\"grid-content tet-content\">\n        <div class=\"tet-login\">\n            <!-- <div class=\"tet-title\">特图部署系统</div> -->\n            <el-form ref=\"form\">\n                <el-form-item>\n                    <el-input v-model=\"username\" type=\"text\" prefix-icon=\"fa fa-user fa-lg\" placeholder=\"账户\"></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-input v-model=\"password\" type=\"password\" prefix-icon=\"fa fa-unlock-alt fa-lg\" placeholder=\"密码\"></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"onSubmit\" :disabled=\"disabled\" :loading=\"loading\">立即登录</el-button>\n                </el-form-item>\n            </el-form>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport axios from 'axios';\nimport Qs from 'qs';\nimport {onTips} from '@/assets/js/common.js';\nimport {setCookie, getCookie} from '@/assets/js/cookie.js'\nexport default {\n    name: 'SignIn',\n    data() {\n        return {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tstatus: [false, false],\n\t\t\tdisabled: true,\n\t\t\tloading: false\n        };\n\t},\n\twatch: {\n\t\tusername: {\n\t\t\thandler: function() {\n\t\t\t\tthis.username.length > 2 ? (this.status[0] = true) : (this.status[0] = false);\n\t\t\t\tthis.onStatus();\n\t\t\t},\n\t\t\tdeep: true\n\t\t},\n\t\tpassword: {\n\t\t\thandler: function() {\n\t\t\t\tthis.password.length > 5 ? (this.status[1] = true) : (this.status[1] = false);\n\t\t\t\tthis.onStatus();\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t},\n    mounted() {\n        if (getCookie('username')) {\n            this.$router.push('main');\n        }\n    },\n    methods: {\n\t\tonStatus: function() {\n\t\t\tif (this.status[0] && this.status[1]) {\n\t\t\t\tthis.disabled = false;\n\t\t\t} else {\n\t\t\t\tthis.disabled = true;\n\t\t\t}\n\t\t},\n\t\tonSubmit: function() {\n\t\t\tlet that = this;\n            that.loading = true;\n\n            let data = {\n                username: that.username,\n                password: that.password\n            };\n\n\t\t\taxios.post('/api/signin', Qs.stringify(data), {})\n\t\t\t.then(function(res) {\n                console.log(res);\n\t\t\t\tif (res.data.status) {\n                    onTips(that, 'success', res.data.info);\n                    setCookie('username', that.username, 1000*60);\n                    setTimeout(function() {\n                        that.$router.push('main');\n                    }.bind(this), 700);\n\t\t\t\t} else {\n\t\t\t\t\tonTips(that, 'error', res.data.info);\n\t\t\t\t\tthat.loading = false;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function(err) {\n\t\t\t\tonTips(that, 'error', '网络错误～');\n\t\t\t\tthat.loading = false;\n\t\t\t})\n\t\t},\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n.signin {\n    background-color: #545c64;\n}\n.tet-content {\n\theight: 100vh;\n}\n.tet-login {\n\tposition: absolute;\n\tpadding: 2% 3% 1% 3%;\n\ttop: 50%;\n\tleft: 50%;\n\twidth: 28%;\n\tborder-radius: 4px;\n\t-webkit-box-shadow:0 0 8px 0 rgba(0,0,0,.15);  \n\t-moz-box-shadow:0 0 8px 0 rgba(0,0,0,.15);  \n\tbox-shadow:0 0 8px 0 rgba(0,0,0,.15);  \n\tbackground-color: #fff;\n\ttransform: translate(-50%, -50%);\n\t-webkit-transform: translate(-50%, -50%);\n}\n.tet-title {\n\tpadding:0 0 32px 0;\n\tfont-size: 20px;\n\tcolor: #666666;\n\ttext-align: center;\n}\n.el-icon-search:before {\n\tcontent: '';\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n    background: url('../assets/image/user.png') no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 78% 46%;\n\topacity: 0.88;\n}\n.el-icon-setting:before {\n\tcontent: '';\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n    background: url('../assets/image/password.png') no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 78% 46%;\n\topacity: 0.68;\n}\n.el-button--primary {\n\twidth: 100%;\n}\n</style>"]}]}