{"remainingRequest":"/Users/const/Documents/Movie/Slog/node_modules/babel-loader/lib/index.js!/Users/const/Documents/Movie/Slog/node_modules/ts-loader/index.js??ref--14-2!/Users/const/Documents/Movie/Slog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/const/Documents/Movie/Slog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/const/Documents/Movie/Slog/src/components/Main.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/const/Documents/Movie/Slog/src/components/Main.vue","mtime":1570782490480},{"path":"/Users/const/Documents/Movie/Slog/node_modules/cache-loader/dist/cjs.js","mtime":1552975946601},{"path":"/Users/const/Documents/Movie/Slog/node_modules/babel-loader/lib/index.js","mtime":1552975946378},{"path":"/Users/const/Documents/Movie/Slog/node_modules/ts-loader/index.js","mtime":1552975955462},{"path":"/Users/const/Documents/Movie/Slog/node_modules/cache-loader/dist/cjs.js","mtime":1552975946601},{"path":"/Users/const/Documents/Movie/Slog/node_modules/vue-loader/lib/index.js","mtime":1552975955943}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\nimport Aside from '@/components/Aside.vue';\nimport Header from '@/components/Header.vue';\nexport default {\n  name: 'Main',\n  data: function data() {\n    return {\n      isCollapse: false\n    };\n  },\n  components: {\n    Aside: Aside,\n    Header: Header\n  },\n  mounted: function mounted() {\n    var that = this;\n\n    if (that.$getCookie('key') == '') {\n      that.$router.push('/');\n    } else {\n      // 刷新页面处理\n      var data = {\n        key: that.$getCookie('key')\n      };\n      that.$axios.post('/api/login/cookie', that.$qs.stringify(data), {}).then(function (res) {\n        console.log(res, '/api/login/cookie');\n\n        if (res.data.status) {\n          that.$setCookie('key', that.$getCookie('key'), 1800);\n          that.$store.commit('set_user_icon', res.data.data.icon);\n          that.$store.commit('set_user_name', res.data.data.name);\n        } else {\n          that.$delCookie('key');\n          that.$router.push('/');\n        }\n      }).catch(function (err) {\n        that.$toast(that, 'error', '网络错误～');\n        that.loading = false;\n      });\n    } // 实时刷新cookie\n\n\n    document.addEventListener(\"mousemove\", function () {\n      if (that.$getCookie('key') != '') {\n        that.$setCookie('key', that.$getCookie('key'), 1800);\n      }\n    });\n  },\n  methods: {\n    onCollapse: function onCollapse(status) {\n      this.isCollapse = !status;\n    },\n    onQuit: function onQuit() {\n      this.$delCookie('key');\n      this.$router.push('/');\n    }\n  }\n};",{"version":3,"sources":["/Users/const/Documents/Movie/Slog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/const/Documents/Movie/Slog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/const/Documents/Movie/Slog/src/components/Main.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;AAmBA,OAAO,KAAP,MAAkB,wBAAlB;AACA,OAAO,MAAP,MAAmB,yBAAnB;AACA,eAAe;AACX,EAAA,IAAI,EAAE,MADK;AAEX,EAAA,IAFW,kBAEP;AACA,WAAO;AACH,MAAA,UAAU,EAAE;AADT,KAAP;AAGH,GANU;AAOX,EAAA,UAAU,EAAE;AACR,IAAA,KAAK,EAAL,KADQ;AAER,IAAA,MAAM,EAAN;AAFQ,GAPD;AAWX,EAAA,OAXW,qBAWJ;AACH,QAAI,IAAI,GAAG,IAAX;;AACA,QAAI,IAAI,CAAC,UAAL,CAAgB,KAAhB,KAA0B,EAA9B,EAAkC;AAC9B,MAAA,IAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACH,KAFD,MAEO;AACH;AACA,UAAI,IAAI,GAAG;AACP,QAAA,GAAG,EAAE,IAAI,CAAC,UAAL,CAAgB,KAAhB;AADE,OAAX;AAGA,MAAA,IAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,mBAAjB,EAAsC,IAAI,CAAC,GAAL,CAAS,SAAT,CAAmB,IAAnB,CAAtC,EAAgE,EAAhE,EACC,IADD,CACM,UAAS,GAAT,EAAY;AACd,QAAA,OAAO,CAAC,GAAR,CAAY,GAAZ,EAAiB,mBAAjB;;AACA,YAAI,GAAG,CAAC,IAAJ,CAAS,MAAb,EAAqB;AACjB,UAAA,IAAI,CAAC,UAAL,CAAgB,KAAhB,EAAuB,IAAI,CAAC,UAAL,CAAgB,KAAhB,CAAvB,EAA+C,IAA/C;AACA,UAAA,IAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,eAAnB,EAAoC,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,IAAlD;AACA,UAAA,IAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,eAAnB,EAAoC,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,IAAlD;AACH,SAJD,MAIO;AACH,UAAA,IAAI,CAAC,UAAL,CAAgB,KAAhB;AACA,UAAA,IAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACH;AACJ,OAXD,EAYR,KAZQ,CAYF,UAAS,GAAT,EAAY;AAClB,QAAA,IAAI,CAAC,MAAL,CAAY,IAAZ,EAAkB,OAAlB,EAA2B,OAA3B;AACA,QAAA,IAAI,CAAC,OAAL,GAAe,KAAf;AACA,OAfQ;AAgBH,KAzBE,CA2BH;;;AACA,IAAA,QAAQ,CAAC,gBAAT,CAA0B,WAA1B,EAAuC,YAAA;AACnC,UAAI,IAAI,CAAC,UAAL,CAAgB,KAAhB,KAA0B,EAA9B,EAAkC;AAC9B,QAAA,IAAI,CAAC,UAAL,CAAgB,KAAhB,EAAuB,IAAI,CAAC,UAAL,CAAgB,KAAhB,CAAvB,EAA+C,IAA/C;AACH;AACJ,KAJD;AAKH,GA5CU;AA6CX,EAAA,OAAO,EAAE;AACL,IAAA,UAAU,EAAE,oBAAS,MAAT,EAAe;AACvB,WAAK,UAAL,GAAkB,CAAC,MAAnB;AACH,KAHI;AAIL,IAAA,MAAM,EAAE,kBAAA;AACJ,WAAK,UAAL,CAAgB,KAAhB;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACH;AAPI;AA7CE,CAAf","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Aside from '@/components/Aside.vue'\nimport Header from '@/components/Header.vue'\nexport default {\n    name: 'Main',\n    data() {\n        return {\n            isCollapse: false\n        };\n    },\n    components: {\n        Aside,\n        Header,\n    },\n    mounted() {\n        let that = this;\n        if (that.$getCookie('key') == '') {\n            that.$router.push('/');\n        } else {\n            // 刷新页面处理\n            let data = {\n                key: that.$getCookie('key')\n            }\n            that.$axios.post('/api/login/cookie', that.$qs.stringify(data), {})\n            .then(function(res){\n                console.log(res, '/api/login/cookie');\n                if (res.data.status) {\n                    that.$setCookie('key', that.$getCookie('key'), 1800);\n                    that.$store.commit('set_user_icon', res.data.data.icon);\n                    that.$store.commit('set_user_name', res.data.data.name);\n                } else {\n                    that.$delCookie('key');\n                    that.$router.push('/');\n                }\n            })\n\t\t\t.catch(function(err) {\n\t\t\t\tthat.$toast(that, 'error', '网络错误～');\n\t\t\t\tthat.loading = false;\n\t\t\t})\n        }\n\n        // 实时刷新cookie\n        document.addEventListener(\"mousemove\", function() {\n            if (that.$getCookie('key') != '') {\n                that.$setCookie('key', that.$getCookie('key'), 1800);\n            }\n        })\n    },\n    methods: {\n        onCollapse: function(status) {\n            this.isCollapse = !status;\n        },\n        onQuit: function() {\n            this.$delCookie('key');\n            this.$router.push('/');\n        }\n    }\n}\n"],"sourceRoot":""}]}