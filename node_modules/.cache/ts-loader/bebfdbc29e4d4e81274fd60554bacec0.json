{"remainingRequest":"/Users/const/Documents/Movie/Slog/node_modules/babel-loader/lib/index.js!/Users/const/Documents/Movie/Slog/node_modules/ts-loader/index.js??ref--14-2!/Users/const/Documents/Movie/Slog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/const/Documents/Movie/Slog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/const/Documents/Movie/Slog/src/components/Login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/const/Documents/Movie/Slog/src/components/Login.vue","mtime":1570780950505},{"path":"/Users/const/Documents/Movie/Slog/node_modules/cache-loader/dist/cjs.js","mtime":1552975946601},{"path":"/Users/const/Documents/Movie/Slog/node_modules/babel-loader/lib/index.js","mtime":1552975946378},{"path":"/Users/const/Documents/Movie/Slog/node_modules/ts-loader/index.js","mtime":1552975955462},{"path":"/Users/const/Documents/Movie/Slog/node_modules/cache-loader/dist/cjs.js","mtime":1552975946601},{"path":"/Users/const/Documents/Movie/Slog/node_modules/vue-loader/lib/index.js","mtime":1552975955943}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\nexport default {\n  name: 'Login',\n  data: function data() {\n    return {\n      disabled: true,\n      loading: false,\n      loginForm: {\n        username: '',\n        password: ''\n      },\n      loginRules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }, {\n          min: 5,\n          max: 10,\n          message: '长度在 5 到 10 个字符',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          max: 12,\n          message: '长度在 6 到 12 个字符',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  watch: {\n    loginForm: {\n      handler: function handler() {\n        if (this.loginForm.username.length > 4 && this.loginForm.password.length > 5) {\n          this.disabled = false;\n        } else {\n          this.disabled = true;\n        }\n      },\n      deep: true\n    }\n  },\n  mounted: function mounted() {\n    var that = this;\n\n    if (that.$getCookie('key')) {\n      this.$router.push('main');\n    }\n  },\n  methods: {\n    onSubmit: function onSubmit(loginForm) {\n      var that = this;\n      that.loading = true;\n      that.$refs[loginForm].validate(function (valid) {\n        if (valid) {\n          that.$axios.post('/api/login/login', that.$qs.stringify(that.loginForm), {}).then(function (res) {\n            console.log(res, '/api/login/login');\n\n            if (res.data.status) {\n              that.$toast(that, 'success', res.data.message);\n              that.$setCookie('key', res.data.key, 1800);\n              setTimeout(function () {\n                that.$router.push('main');\n              }.bind(this), 600);\n            } else {\n              that.$toast(that, 'error', res.data.message);\n              that.loading = false;\n            }\n          }).catch(function (err) {\n            that.$toast(that, 'error', '网络错误～');\n            that.loading = false;\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["/Users/const/Documents/Movie/Slog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/const/Documents/Movie/Slog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/const/Documents/Movie/Slog/src/components/Login.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport default {\n    name: 'Login',\n    data() {\n        return {\n\t\t\tdisabled: true,\n\t\t\tloading: false,\n\t\t\tloginForm: {\n\t\t\t\tusername: '',\n\t\t\t\tpassword: ''\n\t\t\t},\n\t\t\tloginRules: {\n                username: [\n                    { required: true, message: '请输入用户名', trigger: 'blur' },\n                    { min: 5, max: 10, message: '长度在 5 到 10 个字符', trigger: 'blur' }\n                ],\n                password: [\n                    { required: true, message: '请输入密码', trigger: 'blur' },\n                    { min: 6, max: 12, message: '长度在 6 到 12 个字符', trigger: 'blur' }\n                ]\n\t\t\t}\n        };\n\t},\n\twatch: {\n\t\tloginForm: {\n\t\t\thandler: function() {\n\t\t\t\tif ((this.loginForm.username.length > 4) && (this.loginForm.password.length > 5)) {\n\t\t\t\t\tthis.disabled = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.disabled = true;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t},\n    mounted() {\n\t\tlet that = this;\n        if (that.$getCookie('key')) {\n            this.$router.push('main');\n        }\n    },\n    methods: {\n\t\tonSubmit: function(loginForm) {\n\t\t\tlet that = this;\n\t\t\tthat.loading = true;\n\t\t\t\n\t\t\tthat.$refs[loginForm].validate((valid)=>{\n\t\t\t\tif (valid) {\n\t\t\t\t\tthat.$axios.post('/api/login/login', that.$qs.stringify(that.loginForm), {})\n\t\t\t\t\t.then(function(res) {\n\t\t\t\t\t\tconsole.log(res, '/api/login/login');\n\t\t\t\t\t\tif (res.data.status) {\n\t\t\t\t\t\t\tthat.$toast(that, 'success', res.data.message);\n\t\t\t\t\t\t\tthat.$setCookie('key', res.data.key, 1800);\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tthat.$router.push('main');\n\t\t\t\t\t\t\t}.bind(this), 600);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.$toast(that, 'error', res.data.message);\n\t\t\t\t\t\t\tthat.loading = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(err) {\n\t\t\t\t\t\tthat.$toast(that, 'error', '网络错误～');\n\t\t\t\t\t\tthat.loading = false;\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t})\n\t\t}\n    }\n}\n"],"sourceRoot":""}]}