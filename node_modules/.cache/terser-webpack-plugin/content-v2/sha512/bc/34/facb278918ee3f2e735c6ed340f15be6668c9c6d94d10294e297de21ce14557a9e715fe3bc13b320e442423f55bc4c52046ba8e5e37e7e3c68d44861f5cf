{"code":"(function(t){function e(e){for(var n,s,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)s=r[u],i[s]&&p.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},i={app:0},o=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&\"object\"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t[\"default\"]}:function(){return t};return s.d(e,\"a\",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p=\"/\";var r=window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;o.push([0,\"chunk-vendors\"]),a()})({0:function(t,e,a){t.exports=a(\"cd49\")},\"0070\":function(t,e,a){\"use strict\";var n=a(\"396a\"),i=a.n(n);i.a},\"0783\":function(t,e,a){\"use strict\";var n=a(\"f265\"),i=a.n(n);i.a},\"07cf\":function(t,e,a){t.exports=a.p+\"static/img/isCollapse.aea1f921.jpg\"},\"0aa0\":function(t,e,a){\"use strict\";var n=a(\"567e\"),i=a.n(n);i.a},1:function(t,e){},\"1e79\":function(t,e,a){\"use strict\";var n=a(\"a748\"),i=a.n(n);i.a},\"2a25\":function(t,e,a){},\"313ee\":function(t,e,a){},3288:function(t,e,a){},\"35fa\":function(t,e,a){},\"396a\":function(t,e,a){},\"4c3e\":function(t,e,a){t.exports=a.p+\"static/img/tetUser.1ceef2a3.jpg\"},\"4dcb\":function(t,e,a){},\"4f1d\":function(t,e,a){\"use strict\";var n=a(\"3288\"),i=a.n(n);i.a},\"567e\":function(t,e,a){},\"59b3\":function(t,e,a){\"use strict\";var n=a(\"2a25\"),i=a.n(n);i.a},\"5c48\":function(t,e,a){},\"5c9a\":function(t,e,a){},\"7b0c\":function(t,e,a){},\"7c55\":function(t,e,a){\"use strict\";var n=a(\"5c48\"),i=a.n(n);i.a},\"7e0f\":function(t,e,a){\"use strict\";var n=a(\"8e02\"),i=a.n(n);i.a},\"84d4\":function(t,e,a){\"use strict\";var n=a(\"313ee\"),i=a.n(n);i.a},\"84de\":function(t,e,a){\"use strict\";var n=a(\"f168\"),i=a.n(n);i.a},8854:function(t,e,a){\"use strict\";var n=a(\"5c9a\"),i=a.n(n);i.a},\"8e02\":function(t,e,a){},\"953b\":function(t,e,a){\"use strict\";var n=a(\"a73d\"),i=a.n(n);i.a},9608:function(t,e,a){\"use strict\";var n=a(\"eb9c\"),i=a.n(n);i.a},a349:function(t,e,a){},a73d:function(t,e,a){},a748:function(t,e,a){},cd49:function(t,e,a){\"use strict\";a.r(e);a(\"cadf\"),a(\"551c\"),a(\"097d\");var n=a(\"2b0e\"),i=a(\"5c96\"),o=a.n(i),s=(a(\"0fae\"),a(\"7f10\"),a(\"35fa\"),a(\"4dcb\"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{attrs:{id:\"app\"}},[a(\"router-view\")],1)}),r=[],l={name:\"App\",data:function(){return{}}},c=l,d=(a(\"7c55\"),a(\"2877\")),u=Object(d[\"a\"])(c,s,r,!1,null,null,null),p=u.exports,f=a(\"28dd\"),m=a(\"8c4f\"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"signin\"},[a(\"div\",{staticClass:\"grid-content tet-content\"},[a(\"div\",{staticClass:\"tet-login\"},[a(\"el-form\",{ref:\"form\"},[a(\"el-form-item\",[a(\"el-input\",{attrs:{type:\"text\",\"prefix-icon\":\"fa fa-user fa-lg\",placeholder:\"账户\"},model:{value:t.username,callback:function(e){t.username=e},expression:\"username\"}})],1),a(\"el-form-item\",[a(\"el-input\",{attrs:{type:\"password\",\"prefix-icon\":\"fa fa-unlock-alt fa-lg\",placeholder:\"密码\"},model:{value:t.password,callback:function(e){t.password=e},expression:\"password\"}})],1),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\",disabled:t.disabled,loading:t.loading},on:{click:t.onSubmit}},[t._v(\"立即登录\")])],1)],1)],1)])])},h=[],b=a(\"bc3a\"),g=a.n(b),D=a(\"4328\"),w=a.n(D);function y(t,e,a){t.$message({message:a,type:e})}function x(t,e,a){var n=new Date;n.setSeconds(n.getSeconds()+a),document.cookie=t+\"=\"+escape(e)+\"; expires=\"+n.toGMTString(),console.log(document.cookie)}function _(t){if(document.cookie.length>0){var e=document.cookie.indexOf(t+\"=\");if(-1!=e){e=e+t.length+1;var a=document.cookie.indexOf(\";\",e);return-1==a&&(a=document.cookie.length),unescape(document.cookie.substring(e,a))}}return\"\"}function C(t){x(t,\"\",-1)}var k={name:\"SignIn\",data:function(){return{username:\"\",password:\"\",status:[!1,!1],disabled:!0,loading:!1}},watch:{username:{handler:function(){this.username.length>2?this.status[0]=!0:this.status[0]=!1,this.onStatus()},deep:!0},password:{handler:function(){this.password.length>5?this.status[1]=!0:this.status[1]=!1,this.onStatus()},deep:!0}},mounted:function(){_(\"username\")&&this.$router.push(\"main\")},methods:{onStatus:function(){this.status[0]&&this.status[1]?this.disabled=!1:this.disabled=!0},onSubmit:function(){var t=this;t.loading=!0;var e={username:t.username,password:t.password};g.a.post(\"/api/signin\",w.a.stringify(e),{}).then(function(e){console.log(e),e.data.status?(y(t,\"success\",e.data.info),x(\"username\",t.username,6e4),setTimeout(function(){t.$router.push(\"main\")}.bind(this),700)):(y(t,\"error\",e.data.info),t.loading=!1)}).catch(function(e){y(t,\"error\",\"网络错误～\"),t.loading=!1})}}},S=k,N=(a(\"7e0f\"),Object(d[\"a\"])(S,v,h,!1,null,\"25d8f7ab\",null)),V=N.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"main\"},[a(\"el-container\",[a(\"el-aside\",[a(\"Aside\",{attrs:{isCollapse:t.isCollapse}})],1),a(\"el-container\",[a(\"el-header\",[a(\"Header\",{attrs:{isCollapse:t.isCollapse,onCollapse:t.onCollapse,isNotice:t.isNotice,onNotice:t.onNotice,onQuit:t.onQuit}})],1),a(\"el-main\",[a(\"el-container\",{staticClass:\"tetContain\"},[a(\"el-main\",[a(\"router-view\",{attrs:{isNotice:t.isNotice}})],1),a(\"el-aside\",[a(\"Notice\",{attrs:{Width:t.Width}})],1)],1)],1)],1)],1)],1)},O=[],j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"aside\"},[a(\"el-menu\",{staticClass:\"el-menu-vertical-demo\",attrs:{\"default-active\":\"/\",\"background-color\":\"#545c64\",\"text-color\":\"#fff\",router:!0,\"active-text-color\":\"#ffd04b\",collapse:t.isCollapse},on:{open:t.handleOpen,close:t.handleClose}},[a(\"el-menu-item\",{attrs:{index:\"/main\"}},[a(\"i\",{staticClass:\"fa fa-home fa-lg\"}),a(\"span\",{attrs:{slot:\"title\"},slot:\"title\"},[t._v(\" Home\")])]),a(\"el-menu-item\",{attrs:{index:\"/project\"}},[a(\"i\",{staticClass:\"fa fa-sitemap fa-lg\"}),a(\"span\",{attrs:{slot:\"title\"},slot:\"title\"},[t._v(\" Project\")])]),a(\"el-menu-item\",{attrs:{index:\"/group\"}},[a(\"i\",{staticClass:\"fa fa-users fa-lg\"}),a(\"span\",{attrs:{slot:\"title\"},slot:\"title\"},[t._v(\" Group\")])]),a(\"el-menu-item\",{attrs:{index:\"/site\"}},[a(\"i\",{staticClass:\"el-icon-news\"}),a(\"span\",{attrs:{slot:\"title\"},slot:\"title\"},[t._v(\" Site\")])]),a(\"el-menu-item\",{attrs:{index:\"/version\"}},[a(\"i\",{staticClass:\"el-icon-news\"}),a(\"span\",{attrs:{slot:\"title\"},slot:\"title\"},[t._v(\" Version\")])]),a(\"el-menu-item\",{attrs:{index:\"/online\"}},[a(\"i\",{staticClass:\"el-icon-news\"}),a(\"span\",{attrs:{slot:\"title\"},slot:\"title\"},[t._v(\" Online\")])]),a(\"el-menu-item\",{attrs:{index:\"/setting\"}},[a(\"i\",{staticClass:\"fa fa-cog fa-lg\"}),a(\"span\",{attrs:{slot:\"title\"},slot:\"title\"},[t._v(\" Setting\")])])],1)],1)},I=[],L={props:[\"isCollapse\"],name:\"Aside\",data:function(){return{}},methods:{handleOpen:function(){console.log()},handleClose:function(){console.log()}}},M=L,z=(a(\"84d4\"),Object(d[\"a\"])(M,j,I,!1,null,\"1234a12a\",null)),E=z.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"header flex\"},[n(\"div\",{staticClass:\"collapse flexLeft\",on:{click:function(e){t.onCollapse(t.isCollapse)}}},[n(\"img\",{attrs:{src:a(\"07cf\"),alt:\"\"}})]),n(\"div\",{staticClass:\"tetUser flexRight\"},[n(\"img\",{attrs:{src:a(\"4c3e\"),alt:\"\"},on:{click:function(e){t.onNotice(t.isNotice)}}}),n(\"span\",{on:{click:function(e){t.onNotice(t.isNotice)}}},[n(\"el-badge\",{staticClass:\"item\",attrs:{\"is-dot\":\"\"}},[t._v(\"lxm\")])],1),n(\"i\",{staticClass:\"el-icon-arrow-down\",on:{click:function(e){t.onNotice(t.isNotice)}}})]),n(\"div\",{staticClass:\"quit\",on:{click:function(e){t.onQuit()}}},[t._v(\"退出\")])])},P=[],T={props:[\"onCollapse\",\"onNotice\",\"isCollapse\",\"isNotice\",\"onQuit\"],name:\"Header\"},B=T,W=(a(\"953b\"),Object(d[\"a\"])(B,A,P,!1,null,\"38d83d34\",null)),R=W.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"notice\",style:{width:t.Width+\"px\"}},[a(\"div\",{staticClass:\"message\"},[t._v(\"\\n    2345\\n  \")])])},H=[],q={props:[\"Width\"],name:\"Notice\",data:function(){return{}}},Q=q,G=(a(\"59b3\"),Object(d[\"a\"])(Q,F,H,!1,null,\"6059a2ee\",null)),U=G.exports,J={name:\"Main\",data:function(){return{isCollapse:!0,isNotice:!1,Width:0}},components:{Aside:E,Header:R,Notice:U},mounted:function(){\"\"==_(\"username\")&&this.$router.push(\"/\")},methods:{onCollapse:function(t){this.isCollapse=!t},onNotice:function(t){this.onToggle(t),this.isNotice=!t},onQuit:function(){C(\"username\"),this.$router.push(\"/\")},onToggle:function(t){var e=this,a=setInterval(function(){t?e.Width-=3:e.Width+=3,(e.Width>=300||e.Width<=0)&&clearInterval(a)},2)}}},Z=J,K=(a(\"0783\"),Object(d[\"a\"])(Z,$,O,!1,null,\"54cd440e\",null)),X=K.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"home\"},[a(\"Crumb\",{attrs:{title:\"Home\"}}),a(\"div\",{staticClass:\"tetCVM\"},[a(\"el-row\",{attrs:{gutter:30}},[a(\"el-col\",{attrs:{span:t.circle}},[a(\"div\",{staticClass:\"tetCanvas\",attrs:{id:\"tetLoad\"}})]),a(\"el-col\",{attrs:{span:t.circle}},[a(\"div\",{staticClass:\"tetCanvas\",attrs:{id:\"tetCpu\"}})]),a(\"el-col\",{attrs:{span:t.circle}},[a(\"div\",{staticClass:\"tetCanvas\",attrs:{id:\"tetMemory\"}})]),a(\"el-col\",{attrs:{span:t.circle}},[a(\"div\",{staticClass:\"tetCanvas\",attrs:{id:\"tetDisk\"}})])],1)],1),a(\"div\",{staticClass:\"tetTraffic\"},[a(\"el-row\",{attrs:{gutter:0}},[a(\"el-col\",{attrs:{span:t.isNotice?18:14}},[a(\"div\",{attrs:{id:\"categroy\"}})]),a(\"el-col\",{attrs:{span:t.isNotice?0:10}},[a(\"div\",{staticClass:\"tetMail\"},[a(\"div\",{staticClass:\"tetSystem flex\"},[a(\"span\",{staticClass:\"flexLeft\"},[t._v(\"系统: \"+t._s(t.cvmName))]),a(\"span\",{staticClass:\"flexCenter\"},[a(\"el-button\",{attrs:{type:\"primary\",size:\"small\",icon:\"el-icon-refresh\",loading:t.loading},on:{click:function(e){t.reLoad()}}},[t._v(t._s(t.loadTxt))])],1)])])])],1)],1),[a(\"el-dialog\",{attrs:{title:\"请选择安装集成环境\",visible:t.installDialog,width:\"42%\",\"lock-scroll\":!0,\"close-on-click-modal\":!1,\"close-on-press-escape\":!1,\"show-close\":!1,center:\"\"},on:{\"update:visible\":function(e){t.installDialog=e}}},[a(\"div\",{staticClass:\"install\"},[a(\"el-row\",{attrs:{gutter:16}},[a(\"el-col\",{attrs:{span:12}},[a(\"el-card\",{attrs:{shadow:\"always\"}},[a(\"h3\",[t._v(\"LAMP\")]),t._l(t.lamp,function(e){return a(\"div\",{key:e,staticClass:\"installItem\"},[t._v(\"\\n                          \"+t._s(\"集成项: \"+e)+\"\\n                      \")])}),a(\"el-button\",{attrs:{type:\"primary\",round:\"\"},on:{click:function(e){t.onInstallLamp()}}},[t._v(\"一键安装\")])],2)],1),a(\"el-col\",{attrs:{span:12}},[a(\"el-card\",{attrs:{shadow:\"always\"}},[a(\"h3\",[t._v(\"LNMP (推荐)\")]),t._l(t.lnmp,function(e){return a(\"div\",{key:e,staticClass:\"installItem\"},[t._v(\"\\n                          \"+t._s(\"集成项: \"+e)+\"\\n                      \")])}),a(\"el-button\",{attrs:{type:\"primary\",round:\"\"},on:{click:function(e){t.onInstallLnmp()}}},[t._v(\"一键安装\")])],2)],1)],1)],1)])]],2)},tt=[],et=(a(\"28a5\"),a(\"c5f6\"),a(\"313e\")),at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"Crumb\"},[a(\"div\",{staticClass:\"Breadcrumb\"},[a(\"el-breadcrumb\",{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[a(\"el-breadcrumb-item\",[t._v(\"TeT\")]),a(\"el-breadcrumb-item\",[t._v(t._s(t.title))])],1)],1)])},nt=[],it={props:[\"title\"],name:\"Crumb\",data:function(){return{}}},ot=it,st=(a(\"d183\"),Object(d[\"a\"])(ot,at,nt,!1,null,\"4d70e61a\",null)),rt=st.exports,lt={props:[\"isNotice\"],name:\"Home\",components:{Crumb:rt},data:function(){return{installDialog:!1,lamp:[\"Linux\",\"Apache\",\"MySQL\",\"PHP\"],lnmp:[\"Linux\",\"Nginx\",\"MySQL\",\"PHP\"],domLoad:null,domCpu:null,domMemory:null,domDisk:null,nowLoadData:18,nowCpuData:18,nowMemoryData:18,nowDiskData:18,getLoadData:Number,getCpuData:Number,getMemoryData:Number,getDiskData:Number,dangerColor:\"#09BB07\",cvmName:\"\",circle:5,loading:!1,loadTxt:\"重启服务器\",round:{load:0,cpu:0,memory:0,disk:0}}},created:function(){var t=this;g.a.post(\"/api/origin\",{},{}).then(function(e){if(e.data.status){for(var a,n=e.data.data,i=n.split(\"\\n\"),o=0;o<i.length;o++)-1!=i[o].indexOf(\"environment\")&&(a=i[o]);t.installDialog=-1!=a.indexOf(\"None\")}else y(t,\"error\",e.data.info)}).catch(function(e){y(t,\"error\",\"网络错误~\")}),t.axiosRound();setInterval(function(){t.axiosRound()},3600);g.a.post(\"/api/message\",{},{}).then(function(e){e.data.status?t.cvmName=e.data.data:y(t,\"error\",e.data.info)}).catch(function(e){y(t,\"error\",\"网络错误~\")}),g.a.post(\"/api/chart\",{},{}).then(function(e){if(console.log(e),e.data.status){var a=et[\"init\"](document.getElementById(\"categroy\"));t.onCategroy(a,e.data.data.ltime,e.data.data.ntime,e.data.data.ldata,e.data.data.ndata)}else y(t,\"error\",e.data.info)}).catch(function(e){y(t,\"error\",\"网络错误~\")})},watch:{getLoadData:function(){this.onIncrease(this.domLoad,this.nowLoadData,this.getLoadData)},getCpuData:function(){this.onIncrease(this.domCpu,this.nowCpuData,this.getCpuData)},getMemoryData:function(){this.onIncrease(this.domMemory,this.nowMemoryData,this.getMemoryData)},getDiskData:function(){this.onIncrease(this.domDisk,this.nowDiskData,this.getDiskData)}},mounted:function(){this.$nextTick(function(){this.domLoad=et[\"init\"](document.getElementById(\"tetLoad\")),this.domCpu=et[\"init\"](document.getElementById(\"tetCpu\")),this.domMemory=et[\"init\"](document.getElementById(\"tetMemory\")),this.domDisk=et[\"init\"](document.getElementById(\"tetDisk\")),this.onInitialize(this.domLoad,\"负载均衡\",this.nowLoadData),this.onInitialize(this.domCpu,\"CPU使用率\",this.nowCpuData),this.onInitialize(this.domMemory,\"内存使用率\",this.nowMemoryData),this.onInitialize(this.domDisk,\"硬盘使用率\",this.nowDiskData)})},methods:{onInstallLamp:function(){var t=this;g.a.post(\"/shell/lamp\",{},{}).then(function(e){e.data.status?console.log(e):y(t,\"error\",e.data.info)}).catch(function(e){y(t,\"error\",\"网络错误~\")})},onInstallLnmp:function(){var t=this;g.a.post(\"/shell/lnmp\",{},{}).then(function(e){e.data.status?t.installDialog=!1:y(t,\"error\",e.data.info)}).catch(function(e){y(t,\"error\",\"网络错误~\")})},axiosRound:function(){var t=this;g.a.post(\"/api/round\",{},{}).then(function(e){if(console.log(e.data),e.data.status){var a=e.data.data;t.getLoadData=a.load,t.getCpuData=a.cpu,t.getMemoryData=a.memory,t.getDiskData=a.disk}else y(t,\"error\",e.data.info)}).catch(function(e){y(t,\"error\",\"网络错误~\")})},onInitialize:function(t,e,a){var n={title:{text:e,left:\"center\",bottom:4,textStyle:{fontSize:16,fontWeight:\"normal\",color:\"#666666\"}},tooltip:{show:!0,confine:!0,trigger:\"item\",formatter:\"{a} <br/> 比例：( {d}% )\"},color:[\"#b2b2b2\",this.dangerColor],calculable:!1,series:[{name:e,type:\"pie\",radius:[\"47%\",\"60%\"],hoverAnimation:!1,legendHoverLink:!1,avoidLabelOverlap:!1,label:{normal:{show:!1,position:\"center\"},emphasis:{show:!1}},labelLine:{normal:{show:!1}},data:[{value:(100-a).toFixed(1),name:(100-a).toFixed(1)+\"%\"},{value:a.toFixed(1),name:a.toFixed(1)+\"%\",label:{show:!0,fontSize:\"19\",fontWeight:\"bold\"}}]}]};t.setOption(n)},onIncrease:function(t,e,a){var n=this;if(e!=a)var i=setInterval(function(){e<a&&(e++,n.onApply(t,e),e>=a&&(n.nowLoadData=n.getLoadData,n.nowCpuData=n.getCpuData,n.nowMemoryData=n.getMemoryData,n.nowDiskData=n.getDiskData,clearInterval(i))),e>a&&(e--,n.onApply(t,e),e<=a&&(n.nowLoadData=n.getLoadData,n.nowCpuData=n.getCpuData,n.nowMemoryData=n.getMemoryData,n.nowDiskData=n.getDiskData,clearInterval(i)))},45)},onApply:function(t,e){this.dangerColor=e>68?e>86?\"#b44038\":\"#c9856b\":\"#09BB07\",t.setOption({animation:!1,color:[\"#b2b2b2\",this.dangerColor],series:[{data:[{value:(100-e).toFixed(1),name:(100-e).toFixed(1)+\"%\"},{value:e.toFixed(1),name:e.toFixed(1)+\"%\",label:{show:!0,fontSize:\"19\",fontWeight:\"bold\"}}]}]})},reLoad:function(){var t=this;t.loading||(t.loading=!0,t.loadTxt=\"重启中...\",g.a.post(\"/api/restart\",{},{}).then(function(e){e.data.status&&(t.loading=!1,t.loadTxt=\"重启服务器\"),console.log(e)}).catch(function(t){console.log(t)}))},onCategroy:function(t,e,a,n,i){var o={color:[\"#e64340\",\"#09BB07\"],tooltip:{trigger:\"none\",axisPointer:{type:\"cross\"}},legend:{data:[\"昨日流量\",\"今日流量\"]},grid:{top:70,bottom:42},xAxis:[{type:\"category\",axisTick:{alignWithLabel:!0},axisLine:{onZero:!1,lineStyle:{color:\"#333333\"}},axisPointer:{label:{formatter:function(t){return\"今日  \"+t.value+(t.seriesData.length?\"：\"+t.seriesData[0].data:\"\")}}},data:a},{type:\"category\",axisTick:{alignWithLabel:!0},axisLine:{onZero:!1,lineStyle:{color:\"#999999\"}},axisPointer:{label:{formatter:function(t){return\"昨日  \"+t.value+(t.seriesData.length?\"：\"+t.seriesData[0].data:\"\")}}},data:e}],yAxis:[{type:\"value\"}],series:[{name:\"今日流量\",type:\"line\",xAxisIndex:1,smooth:!0,data:i},{name:\"昨日流量\",type:\"line\",smooth:!0,data:n}]};t.setOption(o)}}},ct=lt,dt=(a(\"1e79\"),Object(d[\"a\"])(ct,Y,tt,!1,null,\"5f6f632a\",null)),ut=dt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"group\"},[a(\"Crumb\",{attrs:{title:\"Group\"}}),a(\"div\",{staticClass:\"tetUser\"},[a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.userData,height:\"640\"}},[a(\"el-table-column\",{attrs:{label:\"日期\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.time))])]}}])}),a(\"el-table-column\",{attrs:{label:\"权限\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"p\",[t._v(t._s(t.onLevel(e.row.level)))])]}}])}),a(\"el-table-column\",{attrs:{label:\"用户名\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"p\",[t._v(t._s(e.row.username))])]}}])}),a(\"el-table-column\",{attrs:{label:\"真是姓名\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"p\",[t._v(t._s(e.row.realname))])]}}])}),a(\"el-table-column\",{attrs:{label:\"操作\",width:\"240\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-button\",{attrs:{size:\"mini\",type:\"primary\"},on:{click:function(a){t.handleAdd(e.$index,e.row)}}},[t._v(\"新增\")]),a(\"el-button\",{attrs:{size:\"mini\",type:\"success\"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v(\"编辑\")]),1==e.row.id?[a(\"el-button\",{attrs:{size:\"mini\",type:\"danger\",disabled:\"\"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v(\"删除\")])]:[a(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v(\"删除\")])]]}}])})],1)],1),a(\"div\",[a(\"el-dialog\",{attrs:{title:\"新增用户\",visible:t.dialogAdd,width:\"30%\",\"show-close\":!1,\"custom-class\":\"dialogAdd\"},on:{\"update:visible\":function(e){t.dialogAdd=e}}},[a(\"span\",[a(\"el-form\",{ref:\"form\",attrs:{model:t.add,\"label-width\":\"80px\"}},[a(\"el-form-item\",{attrs:{label:\"用户名\"}},[a(\"el-input\",{attrs:{type:\"text\"},model:{value:t.add.username,callback:function(e){t.$set(t.add,\"username\",e)},expression:\"add.username\"}})],1),a(\"el-form-item\",{attrs:{label:\"真是姓名\"}},[a(\"el-input\",{attrs:{type:\"text\"},model:{value:t.add.realname,callback:function(e){t.$set(t.add,\"realname\",e)},expression:\"add.realname\"}})],1),a(\"el-form-item\",{attrs:{label:\"权限\"}},[[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:t.add.level,callback:function(e){t.$set(t.add,\"level\",e)},expression:\"add.level\"}},t._l(t.options,function(t){return a(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value,disabled:t.disabled}})}),1)]],2),a(\"el-form-item\",{attrs:{label:\"密码\"}},[a(\"el-input\",{attrs:{type:\"password\"},model:{value:t.add.password,callback:function(e){t.$set(t.add,\"password\",e)},expression:\"add.password\"}})],1)],1)],1),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(e){t.dialogAdd=!1}}},[t._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\",disabled:!t.addStatus},on:{click:function(e){t.onAdd()}}},[t._v(\"确 定\")])],1)]),a(\"el-dialog\",{attrs:{title:\"编辑用户\",visible:t.dialogEdit,width:\"30%\",\"show-close\":!1,\"custom-class\":\"dialogEdit\"},on:{\"update:visible\":function(e){t.dialogEdit=e}}},[a(\"span\",[a(\"el-form\",{ref:\"form\",attrs:{model:t.edit,\"label-width\":\"80px\"}},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.edit.id,expression:\"edit.id\"}],attrs:{type:\"hidden\"},domProps:{value:t.edit.id},on:{input:function(e){e.target.composing||t.$set(t.edit,\"id\",e.target.value)}}}),a(\"el-form-item\",{attrs:{label:\"用户名\"}},[a(\"el-input\",{attrs:{type:\"text\"},model:{value:t.edit.username,callback:function(e){t.$set(t.edit,\"username\",e)},expression:\"edit.username\"}})],1),a(\"el-form-item\",{attrs:{label:\"真实姓名\"}},[a(\"el-input\",{attrs:{type:\"text\"},model:{value:t.edit.realname,callback:function(e){t.$set(t.edit,\"realname\",e)},expression:\"edit.realname\"}})],1),a(\"el-form-item\",{attrs:{label:\"旧密码\"}},[a(\"el-input\",{attrs:{type:\"text\"},model:{value:t.edit.oldpwd,callback:function(e){t.$set(t.edit,\"oldpwd\",e)},expression:\"edit.oldpwd\"}})],1),a(\"el-form-item\",{attrs:{label:\"新密码\"}},[a(\"el-input\",{attrs:{type:\"text\"},model:{value:t.edit.password,callback:function(e){t.$set(t.edit,\"password\",e)},expression:\"edit.password\"}})],1)],1)],1),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(e){t.dialogEdit=!1}}},[t._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\",disabled:!t.editStatus},on:{click:function(e){t.onEdit()}}},[t._v(\"确 定\")])],1)]),a(\"el-dialog\",{attrs:{title:\"删除用户\",visible:t.dialogDelete,width:\"30%\",\"show-close\":!1,\"custom-class\":\"dialogDelete\"},on:{\"update:visible\":function(e){t.dialogDelete=e}}},[a(\"span\",[t._v(\"你确定删除这个用户吗？\")]),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(e){t.dialogDelete=!1}}},[t._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){t.onDelete()}}},[t._v(\"确 定\")])],1)])],1)],1)},ft=[],mt={name:\"Group\",components:{Crumb:rt},data:function(){return{userData:[],dialogAdd:!1,addStatus:!1,add:{username:\"\",realname:\"\",level:\"\",password:\"\"},dialogEdit:!1,editStatus:!1,edit:{id:\"\",username:\"\",realname:\"\",password:\"\",oldpwd:\"\"},dialogDelete:!1,del:{id:\"\",index:\"\"},options:[{value:0,label:\"超级管理员\",disabled:!0},{value:1,label:\"管理员\"},{value:2,label:\"用户\"}]}},created:function(){var t=this;g.a.post(\"/api/list\",{},{}).then(function(e){e.data.status?t.userData=e.data.data:y(t,\"error\",e.data.info)}).catch(function(e){y(t,\"error\",\"网络错误～\")})},watch:{add:{handler:function(){\"\"!=this.add.username&&\"\"!=this.add.realname&&\"\"!=this.add.password?this.addStatus=!0:this.addStatus=!1},deep:!0},edit:{handler:function(){\"\"!=this.edit.username&&\"\"!=this.edit.realname&&\"******\"!=this.edit.password?this.editStatus=!0:this.editStatus=!1},deep:!0}},methods:{handleAdd:function(t,e){this.dialogAdd=!0},handleEdit:function(t,e){this.dialogEdit=!0,this.edit.id=e.id,this.edit.username=e.username,this.edit.realname=e.realname,this.edit.password=\"\",this.edit.index=t},handleDelete:function(t,e){this.dialogDelete=!0,this.del.id=e.id,this.del.index=t},onAdd:function(){var t=this,e={level:t.add.level,username:t.add.username,realname:t.add.realname,password:t.add.password};g.a.post(\"/api/add\",w.a.stringify(e),{}).then(function(e){e.data.status?(t.dialogAdd=!1,t.userData.push(e.data.data[0]),y(t,\"success\",e.data.info)):y(t,\"error\",e.data.info)}).catch(function(e){y(t,\"error\",\"网络错误～\")})},onEdit:function(){var t=this,e={id:t.edit.id,username:t.edit.username,realname:t.edit.realname,password:t.edit.password,oldpwd:t.edit.oldpwd};g.a.post(\"/api/edit\",w.a.stringify(e),{}).then(function(e){if(e.data.status){var a=t.edit.index;t.userData[a].username=t.edit.username,t.userData[a].realname=t.edit.realname,t.dialogEdit=!1,y(t,\"success\",e.data.info)}else y(t,\"error\",e.data.info)}).catch(function(e){y(t,\"error\",\"网络错误～\")})},onDelete:function(){var t=this;this.dialogDelete=!1;var e={id:t.del.id};g.a.post(\"/api/delete\",w.a.stringify(e),{}).then(function(e){e.data.status?(t.userData.splice(t.del.index,1),y(t,\"success\",e.data.info)):y(t,\"error\",e.data.info)}).catch(function(e){y(t,\"error\",\"网络错误～\")})},onLevel:function(t){var e;switch(t){case 0:e=\"超级管理员\";break;case 1:e=\"管理员\";break;case 2:e=\"用户\";break}return e}}},vt=mt,ht=(a(\"f64e\"),Object(d[\"a\"])(vt,pt,ft,!1,null,\"45463902\",null)),bt=ht.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"project\"},[a(\"Crumb\",{attrs:{title:\"Project\"}}),a(\"div\",[t._v(\"\\n    project\\n  \")])],1)},Dt=[],wt={name:\"Project\",components:{Crumb:rt},data:function(){return{}}},yt=wt,xt=(a(\"8854\"),Object(d[\"a\"])(yt,gt,Dt,!1,null,\"170ab62a\",null)),_t=xt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"setting\"},[a(\"Crumb\",{attrs:{title:\"Site\"}}),a(\"div\",{staticClass:\"Site\"},[a(\"el-button\",{attrs:{type:\"primary\",size:\"mini\",plain:\"\"},on:{click:function(e){t.onNginx()}}},[t._v(\"nginx.conf\")]),a(\"el-button\",{attrs:{type:\"success\",size:\"mini\",plain:\"\"},on:{click:function(e){t.onNewSite()}}},[t._v(\"new Site\")])],1),a(\"div\",{staticClass:\"SitePanel\"},[[a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.siteData,height:\"630\"}},[a(\"el-table-column\",{attrs:{prop:\"time\",label:\"time\",width:\"180\"}}),a(\"el-table-column\",{attrs:{prop:\"domain\",label:\"domain\",width:\"180\"}}),a(\"el-table-column\",{attrs:{label:\"status\"},scopedSlots:t._u([{key:\"default\",fn:function(t){return[t.row.status?[a(\"i\",{staticClass:\"el-icon-success\"})]:[a(\"i\",{staticClass:\"el-icon-warning\"})]]}}])}),a(\"el-table-column\",{attrs:{prop:\"directory\",label:\"directory\"}}),a(\"el-table-column\",{attrs:{label:\"操作\",width:\"230\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-button\",{attrs:{size:\"mini\",type:\"success\"},on:{click:function(a){t.handleSet(e.row.id)}}},[t._v(\"set\")]),a(\"el-button\",{attrs:{size:\"mini\",type:\"warning\"},on:{click:function(a){t.handleStart(e.row.id,e.$index)}}},[t._v(t._s(e.row.status?\"stop\":\"start\"))]),a(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(a){t.handleDel(e.row.id,e.$index)}}},[t._v(\"del\")])]}}])})],1)]],2),a(\"el-dialog\",{attrs:{title:\"提示\",visible:t.newDialog,width:\"42%\",\"show-close\":!1,center:\"\"},on:{\"update:visible\":function(e){t.newDialog=e}}},[a(\"span\",[a(\"el-form\",{ref:\"ruleNew\",staticClass:\"demo-ruleForm\",attrs:{model:t.ruleNew,rules:t.rules,\"label-width\":\"100px\"}},[a(\"el-form-item\",{attrs:{label:\"domain\",prop:\"domain\"}},[a(\"el-input\",{attrs:{placeholder:\"baidu.com\"},model:{value:t.ruleNew.domain,callback:function(e){t.$set(t.ruleNew,\"domain\",e)},expression:\"ruleNew.domain\"}})],1),a(\"el-row\",[a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"criterion\",prop:\"criterion\"}},[a(\"el-switch\",{model:{value:t.ruleNew.criterion,callback:function(e){t.$set(t.ruleNew,\"criterion\",e)},expression:\"ruleNew.criterion\"}})],1)],1),a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"start\",prop:\"start\"}},[a(\"el-switch\",{model:{value:t.ruleNew.start,callback:function(e){t.$set(t.ruleNew,\"start\",e)},expression:\"ruleNew.start\"}})],1)],1)],1),a(\"el-form-item\",{attrs:{label:\"directory\",prop:\"directory\"}},[a(\"el-input\",{attrs:{placeholder:\"baidu\"},model:{value:t.ruleNew.directory,callback:function(e){t.$set(t.ruleNew,\"directory\",e)},expression:\"ruleNew.directory\"}})],1),a(\"el-form-item\",[a(\"el-button\",{on:{click:function(e){t.newDialog=!1}}},[t._v(\"reset\")]),a(\"el-button\",{attrs:{type:\"success\"},on:{click:function(e){t.submitNew(\"ruleNew\")}}},[t._v(\"add\")])],1)],1)],1)]),a(\"el-dialog\",{attrs:{title:\"delete site\",visible:t.delDialog,width:\"30%\",\"show-close\":!1,\"custom-class\":\"dialogDelete\"},on:{\"update:visible\":function(e){t.delDialog=e}}},[a(\"span\",[t._v(\"Are sure delete this site\")]),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(e){t.delDialog=!1}}},[t._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){t.onDelete()}}},[t._v(\"确 定\")])],1)]),a(\"el-dialog\",{attrs:{title:\"edit site\",visible:t.codemirrorDialog,width:\"60%\",\"show-close\":!1,\"custom-class\":\"dialogDelete\"},on:{\"update:visible\":function(e){t.codemirrorDialog=e}}},[a(\"span\",[a(\"codemirror\",{ref:\"myCm\",staticClass:\"code\",attrs:{value:t.codeMsg,options:t.cmOptions,change:t.onChange()},model:{value:t.codeMsg,callback:function(e){t.codeMsg=e},expression:\"codeMsg\"}})],1),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(e){t.codemirrorDialog=!1,t.nginxStatus=!1}}},[t._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){t.nginxStatus?t.onSiteNginx():t.onSiteFile()}}},[t._v(\"确 定\")])],1)])],1)},kt=[],St=a(\"8f94\");a(\"db91\"),a(\"4895\"),a(\"cbc8\"),a(\"aedd\"),a(\"a2c1\"),a(\"8d70\"),a(\"9f09\"),a(\"164b\");var Nt={name:\"Setting\",components:{Crumb:rt,codemirror:St[\"codemirror\"]},data:function(){return{siteData:[],newDialog:!1,delDialog:!1,nginxStatus:!1,nowID:Number,nowIndex:Number,ruleNew:{domain:\"\",criterion:!0,start:!0,directory:\"\"},rules:{domain:[{required:!0,message:\"请输入域名~\",trigger:\"blur\"},{min:2,max:100,message:\"域名输入错误~\",trigger:\"blur\"}],directory:[{required:!0,message:\"请输入站点根目录名称~\",trigger:\"blur\"},{min:3,max:30,message:\"站点根目录名称错误~\",trigger:\"blur\"}]},codemirrorDialog:!1,codeMsg:\"\",myCm:\"\",cmOptions:{value:\"\",mode:\"text/html\",theme:\"foo bar\",indentUnit:2,smartIndent:!0,tabSize:4,readOnly:!1,showCursorWhenSelecting:!0,lineNumbers:!0}}},created:function(){var t=this;g.a.post(\"/api/project\",{},{}).then(function(e){e.data.status&&(t.siteData=e.data.data)}).catch(function(e){y(t,\"error\",\"网络错误～\")})},methods:{onNginx:function(){var t=this;t.nginxStatus=!0,g.a.post(\"/api/nginx\",{},{}).then(function(e){e.data.status&&(t.codeMsg=e.data.data,t.codemirrorDialog=!0)}).catch(function(){y(t,\"error\",\"网络错误～\")})},onSiteNginx:function(){var t=this,e={file:t.codeMsg};g.a.post(\"/api/config\",w.a.stringify(e),{}).then(function(e){e.data.status?(t.nginxStatus=!1,t.codemirrorDialog=!1,y(t,\"success\",e.data.info)):y(t,\"error\",e.data.info)}).catch(function(){y(t,\"error\",\"网络错误～\")})},onNewSite:function(){this.newDialog=!0},handleSet:function(t){var e=this;e.nowID=t;var a={id:t};g.a.post(\"/api/rest\",w.a.stringify(a),{}).then(function(t){t.data.status&&(e.codeMsg=t.data.data,e.codemirrorDialog=!0)}).catch(function(t){y(e,\"error\",\"网络错误～\")})},handleStart:function(t,e){var a=this,n={id:t,status:a.siteData[e].status?0:1};g.a.post(\"/api/start\",w.a.stringify(n),{}).then(function(t){t.data.status?(a.siteData[e].status=!a.siteData[e].status,y(a,\"success\",t.data.info)):y(a,\"error\",t.data.info)}).catch(function(t){y(a,\"error\",\"网络错误～\")})},handleDel:function(t,e){this.delDialog=!0,this.nowID=t,this.nowIndex=e},submitNew:function(t){var e=this;e.$refs[t].validate(function(t){if(!t)return!1;var a={domain:e.ruleNew.domain,criterion:e.ruleNew.criterion?1:0,status:e.ruleNew.start?1:0,directory:e.ruleNew.directory};g.a.post(\"/api/new\",w.a.stringify(a),{}).then(function(t){t.data.status?(e.newDialog=!1,e.siteData.push(t.data.data[0]),y(e,\"success\",t.data.info)):y(e,\"error\",t.data.info)}).catch(function(t){y(e,\"error\",\"网络错误～\")})})},onDelete:function(){var t=this,e={id:t.nowID};g.a.post(\"/api/clear\",w.a.stringify(e),{}).then(function(e){e.data.status&&(t.delDialog=!1,t.siteData.splice(t.nowIndex,1),y(t,\"success\",e.data.info))}).catch(function(){y(t,\"error\",\"网络错误～\")})},onSiteFile:function(){var t=this,e={id:t.nowID,file:t.codeMsg};g.a.post(\"/api/adapt\",w.a.stringify(e),{}).then(function(e){e.data.status?(t.codemirrorDialog=!1,y(t,\"success\",e.data.info)):y(t,\"error\",e.data.info)}).catch(function(){y(t,\"error\",\"网络错误～\")})},onChange:function(){console.log(\"2345\")}}},Vt=Nt,$t=(a(\"4f1d\"),Object(d[\"a\"])(Vt,Ct,kt,!1,null,\"2203faa4\",null)),Ot=$t.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"version\"},[t.complete?[a(\"el-form\",{ref:\"VersionData\",attrs:{\"label-position\":\"top\",model:t.VersionData,rules:t.VersionRules}},[a(\"div\",{staticClass:\"project\"},[a(\"span\",{staticClass:\"config\"},[t._v(\"项目配置 ( git | svn )\")]),a(\"el-divider\"),a(\"div\",{staticClass:\"content\"},[a(\"el-row\",{attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"项目名称\",prop:\"pro\"}},[a(\"el-select\",{attrs:{size:\"medium\"},on:{change:function(e){t.onSelect()}},model:{value:t.VersionData.pro,callback:function(e){t.$set(t.VersionData,\"pro\",e)},expression:\"VersionData.pro\"}},t._l(t.VersionData.project,function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}},[a(\"span\",{staticStyle:{float:\"left\"}},[t._v(t._s(e.label))]),a(\"span\",{staticStyle:{float:\"right\",color:\"#8492a6\",\"font-size\":\"13px\"}},[t._v(t._s(e.status?\"已完成配置(\"+e.type+\")\":\"未配置\"))])])}),1)],1)],1),a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"部署环境\",prop:\"rel\"}},[a(\"el-select\",{attrs:{size:\"medium\"},model:{value:t.VersionData.rel,callback:function(e){t.$set(t.VersionData,\"rel\",e)},expression:\"VersionData.rel\"}},t._l(t.VersionData.release,function(t){return a(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"git | svn地址\",prop:\"url\"}},[a(\"el-input\",{attrs:{size:\"medium\",placeholder:\"https://github.com/Tet-cvm/test.git\"},model:{value:t.VersionData.url,callback:function(e){t.$set(t.VersionData,\"url\",e)},expression:\"VersionData.url\"}})],1)],1),a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"默认分支\",prop:\"branch\"}},[a(\"el-input\",{attrs:{size:\"medium\"},model:{value:t.VersionData.branch,callback:function(e){t.$set(t.VersionData,\"branch\",e)},expression:\"VersionData.branch\"}})],1)],1),a(\"el-col\",{attrs:{span:24}},[a(\"el-form-item\",{attrs:{label:\"选择版本控制系统\",prop:\"type\"}},[a(\"el-tooltip\",{attrs:{placement:\"top\",\"popper-class\":\"popper\"}},[a(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[t._v(\"请先设置SSH keys\"),a(\"br\"),t._v(\"然后再设置站点环境\")]),a(\"el-radio\",{attrs:{label:\"0\",border:\"\"},model:{value:t.VersionData.type,callback:function(e){t.$set(t.VersionData,\"type\",e)},expression:\"VersionData.type\"}},[t._v(\"Git (ssh)\")])],1),a(\"el-tooltip\",{attrs:{placement:\"top\",\"popper-class\":\"popper\"}},[a(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[t._v(\"设置站点环境, 终端执行以下命令\"),a(\"br\"),t._v(\"$ sh /git.sh\"),a(\"br\"),t._v(\"$ Username: you username\"),a(\"br\"),t._v(\"$ password: you password\")]),a(\"el-radio\",{attrs:{label:\"1\",border:\"\"},model:{value:t.VersionData.type,callback:function(e){t.$set(t.VersionData,\"type\",e)},expression:\"VersionData.type\"}},[t._v(\"Git (password)\")])],1),a(\"el-tooltip\",{attrs:{placement:\"top\",\"popper-class\":\"popper\"}},[a(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[t._v(\"设置站点环境, 终端执行以下命令\"),a(\"br\"),t._v(\"$ password: you password\"),a(\"br\"),t._v(\"$ yes\")]),a(\"el-radio\",{attrs:{label:\"2\",border:\"\"},model:{value:t.VersionData.type,callback:function(e){t.$set(t.VersionData,\"type\",e)},expression:\"VersionData.type\"}},[t._v(\"Svn (password)\")])],1)],1)],1)],1)],1)],1),a(\"div\",{staticClass:\"server\"},[a(\"span\",{staticClass:\"target\"},[t._v(\"目标服务器: \"+t._s(t.ip))]),a(\"el-divider\")],1),a(\"div\",{staticClass:\"submit\"},[a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\",size:\"medium\",disabled:t.disabled},on:{click:function(e){t.onSubmit(t.VersionData)}}},[t._v(\"设置环境\")])],1)],1)])]:t._e()],2)},It=[],Lt=(a(\"6b54\"),{name:\"Version\",data:function(){return{aaa:!0,complete:!1,resData:Array,saveData:[],VersionData:{pro:Number,project:[],rel:Number,release:[{value:1,label:\"开发环境\"},{value:0,label:\"生产环境\"}],url:\"\",branch:\"\",type:Number},disabled:!0,ip:\"\",VersionRules:{pro:[{required:!0,message:\"\",trigger:\"blur\"}],rel:[{required:!0,message:\"\",trigger:\"blur\"}],url:[{required:!0,message:\"请输入 git | svn 地址\",trigger:\"blur\"},{min:0,max:100,message:\"请输入合法的 git | svn 地址\",trigger:\"blur\"}],branch:[{required:!0,message:\"请输入默认 (开发 | 生产环境) 分支\",trigger:\"blur\"},{min:0,max:24,message:\"请输入合法的分支名称\",trigger:\"blur\"}],type:[{required:!0,message:\"\",trigger:\"blur\"}]}}},created:function(){var t=this;g.a.post(\"/api/website\",{},{}).then(function(e){if(e.data.status){var a=e.data.data;t.resData=a;for(var n=Number,i=[],o=0;o<a.length;o++){a[o].active&&(n=a[o].id,t.VersionData.rel=a[o].release,t.VersionData.url=a[o].url,t.VersionData.branch=a[o].branch,t.VersionData.type=a[o].type.toString(),t.ip=a[o].ip);var s={value:a[o].id,label:a[o].domain,status:a[o].status,type:2==a[o].type?\"svn\":\"git\"};i.unshift(s)}t.VersionData.project=i,t.VersionData.pro=n,t.saveData=[t.VersionData.pro,t.VersionData.rel,t.VersionData.url,t.VersionData.branch],t.complete=!0}else y(t,\"error\",e.data.info)}).catch(function(e){y(t,\"error\",\"网络错误~\")})},watch:{VersionData:{handler:function(){for(var t=this,e=0;e<t.resData.length;e++)if(t.resData[e].id==t.VersionData.pro)if(t.resData[e].status){var a=[t.VersionData.pro,t.VersionData.rel,t.VersionData.url,t.VersionData.branch];a.toString()==t.saveData.toString()?t.disabled=!0:t.disabled=!1}else t.disabled=!1},deep:!0}},methods:{onSelect:function(){for(var t=this,e=0;e<t.resData.length;e++)t.resData[e].id==t.VersionData.pro&&(t.VersionData.rel=t.resData[e].release,t.VersionData.url=t.resData[e].url,t.VersionData.branch=t.resData[e].branch,t.VersionData.type=t.resData[e].type.toString(),t.saveData=[t.resData[e].id,t.resData[e].release,t.resData[e].url,t.resData[e].branch])},onSubmit:function(t){var e=this;e.$refs.VersionData.validate(function(t){if(!t)return!1;var a=!1;\"0\"==e.VersionData.type?a=-1!=e.VersionData.url.indexOf(\"git@\"):\"1\"==e.VersionData.type?a=-1!=e.VersionData.url.indexOf(\"https://github.com\"):\"2\"==e.VersionData.type&&(a=-1!=e.VersionData.url.indexOf(\"--username\")),a?e.onAxios():y(e,\"error\",\"git | svn地址与版本控制系统不匹配~\")})},onAxios:function(){var t=this,e={id:t.VersionData.pro,project:t.VersionData.pro,release:t.VersionData.rel,uri:t.VersionData.url,branch:t.VersionData.branch,type:t.VersionData.type};g.a.post(\"/api/mate\",w.a.stringify(e),{}).then(function(e){e.data.status?y(t,\"success\",e.data.info):y(t,\"error\",e.data.info)}).catch(function(){y(t,\"error\",\"网络错误~\")})}}}),Mt=Lt,zt=(a(\"9608\"),Object(d[\"a\"])(Mt,jt,It,!1,null,\"42b7bb55\",null)),Et=zt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"online\"},[a(\"div\",{staticClass:\"swiper-container\"},[a(\"div\",{staticClass:\"swiper-wrapper\"},[a(\"div\",{staticClass:\"swiper-slide content\"},[a(\"div\",{staticClass:\"lineTitle\"},[t._v(\"当前站点:【 aaa.com 】dev\")]),a(\"div\",{staticClass:\"line-form\"},[a(\"el-form\",[a(\"el-row\",{attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"项目选择: \",prop:\"site\"}},[a(\"el-select\",{attrs:{size:\"medium\"},on:{change:function(e){t.onSelect()}},model:{value:t.site,callback:function(e){t.site=e},expression:\"site\"}},t._l(t.siteData,function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}},[a(\"span\",{staticStyle:{float:\"left\"}},[t._v(t._s(e.label))]),a(\"span\",{staticStyle:{float:\"right\",color:\"#8492a6\",\"font-size\":\"14px\"}},[t._v(t._s(e.status?\"已完成配置(\"+e.type+\")\":\"未配置\"))])])}),1)],1)],1),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"默认分支: \",prop:\"branch\"}},[a(\"el-select\",{attrs:{size:\"medium\"},model:{value:t.branch,callback:function(e){t.branch=e},expression:\"branch\"}},t._l(t.branchData,function(t){return a(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"版本选择: \",prop:\"version\"}},[a(\"el-select\",{attrs:{size:\"medium\"},model:{value:t.version,callback:function(e){t.version=e},expression:\"version\"}},t._l(t.versionData,function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}},[a(\"span\",{staticStyle:{float:\"left\"}},[t._v(t._s(e.label))]),a(\"span\",{staticStyle:{float:\"right\",color:\"#8492a6\",\"font-size\":\"14px\"}},[t._v(t._s(e.author))])])}),1)],1)],1),a(\"el-col\",{attrs:{span:6}},[a(\"el-col\",{attrs:{span:6}},[a(\"div\",{staticClass:\"line-submit\"},[a(\"el-button\",{attrs:{type:\"primary\",size:\"mini\"},on:{click:function(e){t.onRelease()}}},[t._v(\"release\")])],1)])],1)],1)],1)],1),a(\"div\",[a(\"Terminal\")],1)]),a(\"div\",{staticClass:\"swiper-slide menu\"},[a(\"el-divider\",[a(\"i\",{staticClass:\"el-icon-arrow-up\"})]),a(\"div\",{staticClass:\"lineItem\"},[[a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.listData,stripe:\"\"}},[a(\"el-table-column\",{attrs:{prop:\"time\",label:\"日期\",width:\"180\"}}),a(\"el-table-column\",{attrs:{prop:\"developer\",label:\"开发者\",width:\"180\"}}),a(\"el-table-column\",{attrs:{prop:\"mark\",label:\"备注\"}}),a(\"el-table-column\",{attrs:{prop:\"version\",label:\"版本号\"}}),a(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(a){t.onRollBack(e.$index,e.row)}}},[t._v(\"rollback\")])]}}])})],1)],t.total>1?[a(\"div\",{staticClass:\"onLinePage\"},[a(\"el-pagination\",{attrs:{background:\"\",layout:\"prev, pager, next\",total:10*t.total,\"pager-count\":5},on:{\"current-change\":t.onRender}})],1)]:t._e()],2)],1)])])])},Pt=[],Tt=a(\"41d6\"),Bt=(a(\"455b\"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"terminal\"},[t._v(\"\\n    terminal\\n\")])}),Wt=[],Rt={name:\"Terminal\",created:function(){var t=location.protocol+\"//127.0.0.1:5000/tet_socket\",e=io.connect(t);e.on(\"my response\",function(t){console.log(t.data,\"res\")})},mounted:function(){},methods:{}},Ft=Rt,Ht=(a(\"0070\"),Object(d[\"a\"])(Ft,Bt,Wt,!1,null,null,null)),qt=Ht.exports,Qt={name:\"Online\",data:function(){return{complete:!1,total:Number,listData:[],site:\"\",siteData:[],branch:\"\",branchData:[{value:1,label:\"aa\"}],version:0,versionData:[]}},components:{Terminal:qt},created:function(){var t=this;t.onInstance(),t.onRender(1)},mounted:function(){new Tt[\"a\"](\".swiper-container\",{direction:\"vertical\",slidesPerView:\"auto\",initialSlide:0,resistanceRatio:0,slideToClickedSlide:!0})},methods:{onRender:function(t){var e=this,a={page:t};g.a.post(\"/api/render\",w.a.stringify(a),{}).then(function(t){console.log(t),t.data.status?(e.listData=t.data.data.list,e.total=t.data.data.page):y(e,\"error\",t.data.info),e.complete=!0}).catch(function(t){y(e,\"error\",\"网络错误～\")})},onInstance:function(){var t=this;g.a.post(\"/api/instance\",{},{}).then(function(e){if(e.data.status){for(var a=e.data.data.site,n=e.data.data.version,i=e.data.data.branch,o=\"\",s=[],r=0;r<a.length;r++){a[r].active&&(o=a[r].id);var l={value:a[r].id,label:a[r].domain,status:a[r].status,type:2==a[r].type?\"svn\":\"git\"};s.unshift(l)}t.siteData=s,t.site=o;for(var c=[],d=0;d<n.length;d++){var u={value:d,author:n[d].author,label:n[d].version};c.push(u)}t.versionData=c;for(var p=[],f=0;f<i.length;f++){var m={value:f,label:i[f]};p.push(m)}t.branchData=p,t.branch=e.data.data.init}else y(t,\"error\",e.data.info)}).catch(function(e){y(t,\"error\",\"网络错误～\")})},onRelease:function(){var t=this;g.a.post(\"/api/submit\",{},{}).then(function(e){e.data.status?console.log(\"success\"):y(t,\"error\",e.data.info)}).catch(function(e){y(t,\"error\",\"网络错误～\")})},onRollBack:function(t,e){console.log(t,e);var a=this;g.a.post(\"/api/rollback\",{},{}).then(function(t){console.log(t,\"rollback\"),t.data.status?console.log(\"aaa\"):y(a,\"error\",t.data.info)}).catch(function(t){y(a,\"error\",\"网络错误～\")})},onSelect:function(){console.log(this.site)}}},Gt=Qt,Ut=(a(\"0aa0\"),Object(d[\"a\"])(Gt,At,Pt,!1,null,\"397d02bd\",null)),Jt=Ut.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"setting\"},[a(\"Crumb\",{attrs:{title:\"Setting\"}}),a(\"div\",{staticClass:\"tetSet\"},[a(\"div\",{staticClass:\"tetSite\"},[a(\"el-row\",{attrs:{gutter:12}},[a(\"el-col\",{attrs:{span:12}},[a(\"el-card\",{attrs:{shadow:\"hover\"}},[a(\"div\",{staticClass:\"siteTitle\"},[a(\"span\",[t._v(\"site: \")]),a(\"span\",[a(\"el-button\",[t._v(\"超小按钮\")]),a(\"el-button\",{attrs:{size:\"mini\"}},[t._v(\"超小按钮\")]),a(\"el-button\",{attrs:{size:\"mini\"}},[t._v(\"超小按钮\")])],1)]),a(\"div\",{staticClass:\"sitePanel\"},[t._v(\"\\n                            asdgasdfgasdfasdf\\n                        \")])])],1),a(\"el-col\",{attrs:{span:12}},[a(\"el-card\",{attrs:{shadow:\"hover\"}},[t._v(\"\\n                    总是显示\\n                    \")])],1)],1)],1),a(\"div\",{staticClass:\"tetSite\"},[a(\"el-row\",{attrs:{gutter:12}},[a(\"el-col\",{attrs:{span:12}},[a(\"el-card\",{attrs:{shadow:\"hover\"}},[t._v(\"\\n                    总是显示\\n                    \")])],1),a(\"el-col\",{attrs:{span:12}},[a(\"el-card\",{attrs:{shadow:\"hover\"}},[t._v(\"\\n                    总是显示\\n                    \")])],1)],1)],1),a(\"div\",{staticClass:\"tetSite\"},[a(\"el-row\",{attrs:{gutter:12}},[a(\"el-col\",{attrs:{span:12}},[a(\"el-card\",{attrs:{shadow:\"hover\"}},[t._v(\"\\n                    总是显示\\n                    \")])],1),a(\"el-col\",{attrs:{span:12}},[a(\"el-card\",{attrs:{shadow:\"hover\"}},[t._v(\"\\n                    总是显示\\n                    \")])],1)],1)],1)])],1)},Kt=[],Xt=(a(\"ee23\"),{name:\"Setting\",components:{Crumb:rt}}),Yt=Xt,te=(a(\"84de\"),Object(d[\"a\"])(Yt,Zt,Kt,!1,null,\"3642b797\",null)),ee=te.exports;n[\"default\"].use(m[\"a\"]);var ae=new m[\"a\"]({mode:\"history\",base:\"/\",routes:[{path:\"/\",name:\"signin\",component:V},{path:\"/main\",component:X,children:[{path:\"\",name:\"home\",component:ut},{path:\"/project\",name:\"project\",component:_t},{path:\"/group\",name:\"group\",component:bt},{path:\"/site\",name:\"site\",component:Ot},{path:\"/version\",name:\"version\",component:Et},{path:\"/online\",name:\"online\",component:Jt},{path:\"/setting\",name:\"setting\",component:ee}]}]}),ne=a(\"2f62\");n[\"default\"].use(ne[\"a\"]);var ie=new ne[\"a\"].Store({state:{},mutations:{},actions:{}}),oe=a(\"9483\");Object(oe[\"a\"])(\"\".concat(\"/\",\"service-worker.js\"),{ready:function(){console.log(\"App is being served from cache by a service worker.\\nFor more details, visit https://goo.gl/AFskqB\")},registered:function(){console.log(\"Service worker has been registered.\")},cached:function(){console.log(\"Content has been cached for offline use.\")},updatefound:function(){console.log(\"New content is downloading.\")},updated:function(){console.log(\"New content is available; please refresh.\")},offline:function(){console.log(\"No internet connection found. App is running in offline mode.\")},error:function(t){console.error(\"Error during service worker registration:\",t)}});a(\"a7be\");n[\"default\"].use(St[\"codemirror\"]),n[\"default\"].config.productionTip=!0,n[\"default\"].use(f[\"a\"]),n[\"default\"].use(o.a),new n[\"default\"]({router:ae,store:ie,render:function(t){return t(p)}}).$mount(\"#app\")},d183:function(t,e,a){\"use strict\";var n=a(\"7b0c\"),i=a.n(n);i.a},eb9c:function(t,e,a){},ee23:function(t,e,a){},f168:function(t,e,a){},f265:function(t,e,a){},f64e:function(t,e,a){\"use strict\";var n=a(\"a349\"),i=a.n(n);i.a}});","extractedComments":[]}