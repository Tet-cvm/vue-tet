{"remainingRequest":"/Users/const/Documents/Movie/Slog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/const/Documents/Movie/Slog/src/components/Login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/const/Documents/Movie/Slog/src/components/Login.vue","mtime":1570780950505},{"path":"/Users/const/Documents/Movie/Slog/node_modules/cache-loader/dist/cjs.js","mtime":1552975946601},{"path":"/Users/const/Documents/Movie/Slog/node_modules/babel-loader/lib/index.js","mtime":1552975946378},{"path":"/Users/const/Documents/Movie/Slog/node_modules/ts-loader/index.js","mtime":1552975955462},{"path":"/Users/const/Documents/Movie/Slog/node_modules/cache-loader/dist/cjs.js","mtime":1552975946601},{"path":"/Users/const/Documents/Movie/Slog/node_modules/vue-loader/lib/index.js","mtime":1552975955943}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport default {\n    name: 'Login',\n    data() {\n        return {\n\t\t\tdisabled: true,\n\t\t\tloading: false,\n\t\t\tloginForm: {\n\t\t\t\tusername: '',\n\t\t\t\tpassword: ''\n\t\t\t},\n\t\t\tloginRules: {\n                username: [\n                    { required: true, message: '请输入用户名', trigger: 'blur' },\n                    { min: 5, max: 10, message: '长度在 5 到 10 个字符', trigger: 'blur' }\n                ],\n                password: [\n                    { required: true, message: '请输入密码', trigger: 'blur' },\n                    { min: 6, max: 12, message: '长度在 6 到 12 个字符', trigger: 'blur' }\n                ]\n\t\t\t}\n        };\n\t},\n\twatch: {\n\t\tloginForm: {\n\t\t\thandler: function() {\n\t\t\t\tif ((this.loginForm.username.length > 4) && (this.loginForm.password.length > 5)) {\n\t\t\t\t\tthis.disabled = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.disabled = true;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t},\n    mounted() {\n\t\tlet that = this;\n        if (that.$getCookie('key')) {\n            this.$router.push('main');\n        }\n    },\n    methods: {\n\t\tonSubmit: function(loginForm) {\n\t\t\tlet that = this;\n\t\t\tthat.loading = true;\n\t\t\t\n\t\t\tthat.$refs[loginForm].validate((valid)=>{\n\t\t\t\tif (valid) {\n\t\t\t\t\tthat.$axios.post('/api/login/login', that.$qs.stringify(that.loginForm), {})\n\t\t\t\t\t.then(function(res) {\n\t\t\t\t\t\tconsole.log(res, '/api/login/login');\n\t\t\t\t\t\tif (res.data.status) {\n\t\t\t\t\t\t\tthat.$toast(that, 'success', res.data.message);\n\t\t\t\t\t\t\tthat.$setCookie('key', res.data.key, 1800);\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tthat.$router.push('main');\n\t\t\t\t\t\t\t}.bind(this), 600);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.$toast(that, 'error', res.data.message);\n\t\t\t\t\t\t\tthat.loading = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(err) {\n\t\t\t\t\t\tthat.$toast(that, 'error', '网络错误～');\n\t\t\t\t\t\tthat.loading = false;\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t})\n\t\t}\n    }\n}\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"grid-content tet-content\">\n        <div class=\"tet-login\">\n            <div class=\"tet-title\">Movie</div>\n            <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\">\n                <el-form-item prop=\"username\">\n                    <el-input v-model=\"loginForm.username\" type=\"text\" prefix-icon=\"fa fa-user fa-lg\" placeholder=\"账户\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"password\">\n                    <el-input v-model=\"loginForm.password\" type=\"password\" prefix-icon=\"fa fa-unlock-alt fa-lg\" placeholder=\"密码\"></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"onSubmit('loginForm')\" :disabled=\"disabled\" :loading=\"loading\">立即登录</el-button>\n                </el-form-item>\n            </el-form>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n    name: 'Login',\n    data() {\n        return {\n\t\t\tdisabled: true,\n\t\t\tloading: false,\n\t\t\tloginForm: {\n\t\t\t\tusername: '',\n\t\t\t\tpassword: ''\n\t\t\t},\n\t\t\tloginRules: {\n                username: [\n                    { required: true, message: '请输入用户名', trigger: 'blur' },\n                    { min: 5, max: 10, message: '长度在 5 到 10 个字符', trigger: 'blur' }\n                ],\n                password: [\n                    { required: true, message: '请输入密码', trigger: 'blur' },\n                    { min: 6, max: 12, message: '长度在 6 到 12 个字符', trigger: 'blur' }\n                ]\n\t\t\t}\n        };\n\t},\n\twatch: {\n\t\tloginForm: {\n\t\t\thandler: function() {\n\t\t\t\tif ((this.loginForm.username.length > 4) && (this.loginForm.password.length > 5)) {\n\t\t\t\t\tthis.disabled = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.disabled = true;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t},\n    mounted() {\n\t\tlet that = this;\n        if (that.$getCookie('key')) {\n            this.$router.push('main');\n        }\n    },\n    methods: {\n\t\tonSubmit: function(loginForm) {\n\t\t\tlet that = this;\n\t\t\tthat.loading = true;\n\t\t\t\n\t\t\tthat.$refs[loginForm].validate((valid)=>{\n\t\t\t\tif (valid) {\n\t\t\t\t\tthat.$axios.post('/api/login/login', that.$qs.stringify(that.loginForm), {})\n\t\t\t\t\t.then(function(res) {\n\t\t\t\t\t\tconsole.log(res, '/api/login/login');\n\t\t\t\t\t\tif (res.data.status) {\n\t\t\t\t\t\t\tthat.$toast(that, 'success', res.data.message);\n\t\t\t\t\t\t\tthat.$setCookie('key', res.data.key, 1800);\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tthat.$router.push('main');\n\t\t\t\t\t\t\t}.bind(this), 600);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.$toast(that, 'error', res.data.message);\n\t\t\t\t\t\t\tthat.loading = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(err) {\n\t\t\t\t\t\tthat.$toast(that, 'error', '网络错误～');\n\t\t\t\t\t\tthat.loading = false;\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t})\n\t\t}\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n.login {\n    background-color: #545c64;\n}\n.tet-content {\n\theight: 100vh;\n}\n.tet-login {\n\tposition: absolute;\n\tpadding: 2% 3% 1% 3%;\n\ttop: 50%;\n\tleft: 50%;\n\twidth: 28%;\n\tborder-radius: 4px;\n\t-webkit-box-shadow:0 0 8px 0 rgba(0,0,0,.15);  \n\t-moz-box-shadow:0 0 8px 0 rgba(0,0,0,.15);  \n\tbox-shadow:0 0 8px 0 rgba(0,0,0,.15);  \n\tbackground-color: #fff;\n\ttransform: translate(-50%, -50%);\n\t-webkit-transform: translate(-50%, -50%);\n}\n.tet-title {\n\tpadding:0 0 32px 0;\n\tfont-size: 20px;\n\tcolor: #666666;\n\ttext-align: center;\n}\n.el-icon-search:before {\n\tcontent: '';\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n    background: url('../assets/image/user.png') no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 78% 46%;\n\topacity: 0.88;\n}\n.el-icon-setting:before {\n\tcontent: '';\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n    background: url('../assets/image/password.png') no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 78% 46%;\n\topacity: 0.68;\n}\n.el-button--primary {\n\twidth: 100%;\n}\n</style>"]}]}